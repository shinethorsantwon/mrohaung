(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59796,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(18566),l=e.i(85384);let u=(0,r.createContext)(void 0);function a({children:e}){let[a,s]=(0,r.useState)(null),[i,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),m=(0,o.useRouter)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(n(e),s(JSON.parse(t)),l.default.get("/auth/me").then(e=>{let t=e.data;s(t),localStorage.setItem("user",JSON.stringify(t))}).catch(()=>{})),d(!1)},[]),(0,t.jsx)(u.Provider,{value:{user:a,token:i,loading:c,login:(e,t)=>{n(e),s(t),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),m.push("/")},logout:()=>{n(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user"),m.push("/login")},updateUser:e=>{let t={...a,...e};s(t),localStorage.setItem("user",JSON.stringify(t))}},children:e})}function s(){let e=(0,r.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>a,"useAuth",()=>s])},47548,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let o=(0,r.createContext)(void 0);function l({children:e}){let[l,u]=(0,r.useState)("dark"),[a,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s(!0);let e=localStorage.getItem("theme");e?u(e):u(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,r.useEffect)(()=>{if(!a)return;let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(l),localStorage.setItem("theme",l)},[l,a]),(0,t.jsx)(o.Provider,{value:{theme:l,toggleTheme:()=>{u(e=>"dark"===e?"light":"dark")}},children:e})}function u(){let e=(0,r.useContext)(o);return void 0===e?{theme:"dark",toggleTheme:()=>{}}:e}e.s(["ThemeProvider",()=>l,"useTheme",()=>u])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59796,e=>{"use strict";var t=e.i(14294),o=e.i(30878),r=e.i(53913),l=e.i(85384);let u=(0,o.createContext)(void 0);function a({children:e}){let[a,s]=(0,o.useState)(null),[i,n]=(0,o.useState)(null),[c,d]=(0,o.useState)(!0),g=(0,r.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(n(e),s(JSON.parse(t)),l.default.get("/auth/me").then(e=>{let t=e.data;s(t),localStorage.setItem("user",JSON.stringify(t))}).catch(()=>{})),d(!1)},[]);let[h,m]=(0,o.useState)(!1),[S,f]=(0,o.useState)("login");return(0,t.jsx)(u.Provider,{value:{user:a,token:i,loading:c,login:(e,t)=>{n(e),s(t),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),g.push("/")},logout:()=>{n(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user"),g.push("/login")},updateUser:e=>{let t={...a,...e};s(t),localStorage.setItem("user",JSON.stringify(t))},openAuthModal:(e="login")=>{f(e),m(!0)},closeAuthModal:()=>m(!1),isAuthModalOpen:h,authModalMode:S},children:e})}function s(){let e=(0,o.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>a,"useAuth",()=>s])},47548,e=>{"use strict";var t=e.i(14294),o=e.i(30878);let r=(0,o.createContext)(void 0);function l({children:e}){let[l,u]=(0,o.useState)("dark"),[a,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{s(!0);let e=localStorage.getItem("theme");e?u(e):u(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,o.useEffect)(()=>{if(!a)return;let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(l),localStorage.setItem("theme",l)},[l,a]),(0,t.jsx)(r.Provider,{value:{theme:l,toggleTheme:()=>{u(e=>"dark"===e?"light":"dark")}},children:e})}function u(){let e=(0,o.useContext)(r);return void 0===e?{theme:"dark",toggleTheme:()=>{}}:e}e.s(["ThemeProvider",()=>l,"useTheme",()=>u])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let s=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,iconNode:d,...n},h)=>(0,t.createElement)("svg",{ref:h,...a,width:r,height:r,stroke:e,strokeWidth:i?24*Number(l)/Number(r):l,className:s("lucide",c),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(n)&&{"aria-hidden":"true"},...n},[...d.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(o)?o:[o]])),i=(e,a)=>{let i=(0,t.forwardRef)(({className:i,...c},o)=>(0,t.createElement)(l,{ref:o,iconNode:a,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...c}));return i.displayName=r(e),i};e.s(["default",()=>i],75254)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},45423,e=>{"use strict";let t=(0,e.i(75254).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>t],45423)},98919,e=>{"use strict";let t=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},92270,e=>{"use strict";let t=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>t],92270)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},58680,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566);let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var l=e.i(84614),i=e.i(70756),c=e.i(45423),o=e.i(98919),d=e.i(92270),n=e.i(27612);function h({children:e}){let a=(0,r.useRouter)();return(0,s.useEffect)(()=>{localStorage.getItem("token")||a.push("/login")},[a]),(0,t.jsx)(t.Fragment,{children:e})}var x=e.i(85384);function u(){let e=(0,r.useRouter)(),[u,m]=(0,s.useState)(null),[f,p]=(0,s.useState)(!1),[b,v]=(0,s.useState)([]),[j,y]=(0,s.useState)(!0);(0,s.useEffect)(()=>{m(JSON.parse(localStorage.getItem("user")||"{}")),N()},[]);let N=async()=>{try{let[e,t]=await Promise.all([x.default.get("/privacy/account"),x.default.get("/privacy/blocked")]);p(e.data.isPrivate),v(t.data)}catch(e){console.error("Failed to fetch privacy settings:",e)}finally{y(!1)}},w=async e=>{try{await x.default.put("/privacy/account",{isPrivate:e}),p(e)}catch(e){console.error("Failed to update privacy:",e)}},g=async e=>{try{await x.default.delete(`/privacy/unblock/${e}`),v(b.filter(t=>t.id!==e))}catch(e){console.error("Failed to unblock user:",e)}},k=async()=>{if(confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await x.default.delete("/profile"),localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/login")}catch(e){console.error("Failed to delete account:",e),alert("Failed to delete account")}};return(0,t.jsx)(h,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-[#0f172a] text-white",children:[(0,t.jsx)("div",{className:"sticky top-0 z-50 bg-[#0f172a]/80 backdrop-blur-md border-b border-[#1e293b]",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"p-2 hover:bg-[#1e293b] rounded-full transition-colors",children:(0,t.jsx)(a,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-bold text-lg",children:"Settings"}),(0,t.jsx)("p",{className:"text-xs text-[#64748b]",children:"Manage your account"})]})]})}),(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-[#1e293b]/50 border border-[#334155] rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-[#334155]",children:(0,t.jsxs)("h2",{className:"font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(l.User,{className:"w-5 h-5 text-blue-500"}),"Account"]})}),(0,t.jsxs)("div",{className:"divide-y divide-[#334155]",children:[(0,t.jsxs)("button",{onClick:()=>e.push(u?.username?`/profile/${u.username}`:"/login"),className:"w-full px-4 py-4 hover:bg-[#334155]/50 transition-colors text-left flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"Profile"}),(0,t.jsx)("p",{className:"text-sm text-[#64748b]",children:"View and edit your profile"})]}),(0,t.jsx)(a,{className:"w-5 h-5 text-[#64748b] rotate-180"})]}),(0,t.jsxs)("button",{className:"w-full px-4 py-4 hover:bg-[#334155]/50 transition-colors text-left flex items-center justify-between",onClick:()=>alert("Change password coming soon!"),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"Change Password"}),(0,t.jsx)("p",{className:"text-sm text-[#64748b]",children:"Update your password"})]}),(0,t.jsx)(i.Lock,{className:"w-5 h-5 text-[#64748b]"})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#1e293b]/50 border border-[#334155] rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-[#334155]",children:(0,t.jsxs)("h2",{className:"font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(c.Bell,{className:"w-5 h-5 text-blue-500"}),"Notifications"]})}),(0,t.jsxs)("div",{className:"divide-y divide-[#334155]",children:[(0,t.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"Push Notifications"}),(0,t.jsx)("p",{className:"text-sm text-[#64748b]",children:"Receive notifications on your device"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,t.jsx)("div",{className:"w-11 h-6 bg-[#334155] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"Email Notifications"}),(0,t.jsx)("p",{className:"text-sm text-[#64748b]",children:"Receive updates via email"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-[#334155] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#1e293b]/50 border border-[#334155] rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-[#334155]",children:(0,t.jsxs)("h2",{className:"font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(o.Shield,{className:"w-5 h-5 text-blue-500"}),"Privacy & Security"]})}),(0,t.jsxs)("div",{className:"divide-y divide-[#334155]",children:[(0,t.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"Private Account"}),(0,t.jsx)("p",{className:"text-sm text-[#64748b]",children:f?"Only friends can see your posts":"Anyone can see your posts"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:f,onChange:e=>w(e.target.checked)}),(0,t.jsx)("div",{className:"w-11 h-6 bg-[#334155] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,t.jsxs)("div",{className:"px-4 py-4",children:[(0,t.jsx)("p",{className:"font-semibold text-white mb-2",children:"Blocked Users"}),(0,t.jsxs)("p",{className:"text-sm text-[#64748b] mb-4",children:[b.length," user",1!==b.length?"s":""," blocked"]}),b.length>0&&(0,t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:b.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#0f172a] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.avatarUrl?(0,t.jsx)("img",{src:e.avatarUrl,alt:e.displayName||e.username||"",className:"w-8 h-8 rounded-full object-cover"}):(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-600 to-purple-600"}),(0,t.jsx)("span",{className:"text-white text-sm",children:e.displayName||e.username})]}),(0,t.jsx)("button",{onClick:()=>g(e.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded-lg transition-colors",children:"Unblock"})]},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"bg-red-500/5 border border-red-500/20 rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-red-500/20",children:(0,t.jsxs)("h2",{className:"font-bold text-red-500 flex items-center gap-2",children:[(0,t.jsx)(n.Trash2,{className:"w-5 h-5"}),"Danger Zone"]})}),(0,t.jsxs)("div",{className:"divide-y divide-red-500/20",children:[(0,t.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/login")},className:"w-full px-4 py-4 hover:bg-red-500/10 transition-colors text-left flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"Logout"}),(0,t.jsx)("p",{className:"text-sm text-[#64748b]",children:"Sign out of your account"})]}),(0,t.jsx)(d.LogOut,{className:"w-5 h-5 text-red-500"})]}),(0,t.jsxs)("button",{className:"w-full px-4 py-4 hover:bg-red-500/10 transition-colors text-left",onClick:k,children:[(0,t.jsx)("p",{className:"font-semibold text-red-500",children:"Delete Account"}),(0,t.jsx)("p",{className:"text-sm text-[#64748b]",children:"Permanently delete your account and data"})]})]})]}),(0,t.jsxs)("div",{className:"text-center py-8 text-[#64748b] text-sm",children:[(0,t.jsx)("p",{children:"SHINE Social Media v1.0.0"}),(0,t.jsx)("p",{className:"mt-2",children:"Made with ❤️ by Your Team"})]})]})})]})})}e.s(["default",()=>u],58680)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73434,72379,e=>{"use strict";var r=e.i(92511);let n=(0,r.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>n],73434);let i=(0,r.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>i],72379)},20241,e=>{"use strict";let r;function n(e,r){return new Promise(function(n,a){let l;return i(e).then(function(e){try{return l=e,n(new Blob([r.slice(0,2),l,r.slice(2)],{type:"image/jpeg"}))}catch(e){return a(e)}},a)})}let i=e=>new Promise((r,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),a=0;if(65496!==i.getUint16(a))return n("not a valid JPEG");for(a+=2;;){let l=i.getUint16(a);if(65498===l)break;let s=i.getUint16(a+2);if(65505===l&&0x45786966===i.getUint32(a+4)){let l,o=a+10;switch(i.getUint16(o)){case 18761:l=!0;break;case 19789:l=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(o+2,l))return n("TIFF header contains invalid version");let f=i.getUint32(o+4,l),c=o+f+2+12*i.getUint16(o+f,l);for(let e=o+f+2;e<c;e+=12)if(274==i.getUint16(e,l)){if(3!==i.getUint16(e+2,l))return n("Orientation data type is invalid");if(1!==i.getUint32(e+4,l))return n("Orientation data count is invalid");i.setUint16(e+8,1,l);break}return r(e.slice(a,a+2+s))}a+=2+s}return r(new Blob)}),i.readAsArrayBuffer(e)});var a,l,s,o,f={};({get exports(){return f},set exports(t){f=t}}).exports=s={},s.parse=function(e,r){for(var n=s.bin.readUshort,i=s.bin.readUint,a=0,l={},o=new Uint8Array(e),f=o.length-4;0x6054b50!=i(o,f);)f--;var c=n(o,a=f+4+4);n(o,a+=2);var d=i(o,a+=2),u=i(o,a+=4);a+=4,a=u;for(var h=0;h<c;h++){i(o,a),a+=4,a+=4,a+=4,i(o,a+=4),d=i(o,a+=4);var m=i(o,a+=4),p=n(o,a+=4),x=n(o,a+2),b=n(o,a+4);a+=6;var g=i(o,a+=8);a+=4,a+=p+x+b,s._readLocal(o,g,l,d,m,r)}return l},s._readLocal=function(e,r,n,i,a,l){var o=s.bin.readUshort,f=s.bin.readUint;f(e,r),o(e,r+=4),o(e,r+=2);var c=o(e,r+=2);f(e,r+=2),f(e,r+=4),r+=4;var d=o(e,r+=8),u=o(e,r+=2);r+=2;var h=s.bin.readUTF8(e,r,d);if(r+=d,r+=u,l)n[h]={size:a,csize:i};else{var m=new Uint8Array(e.buffer,r);if(0==c)n[h]=new Uint8Array(m.buffer.slice(r,r+i));else{if(8!=c)throw"unknown compression method: "+c;var p=new Uint8Array(a);s.inflateRaw(m,p),n[h]=p}}},s.inflateRaw=function(e,r){return s.F.inflate(e,r)},s.inflate=function(e,r){return e[0],e[1],s.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},s.deflate=function(e,r){null==r&&(r={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=s.F.deflateRaw(e,i,n,r.level);var a=s.adler(e,0,e.length);return i[n+0]=a>>>24&255,i[n+1]=a>>>16&255,i[n+2]=a>>>8&255,i[n+3]=a>>>0&255,new Uint8Array(i.buffer,0,n+4)},s.deflateRaw=function(e,r){null==r&&(r={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=s.F.deflateRaw(e,n,i,r.level);return new Uint8Array(n.buffer,0,i)},s.encode=function(e,r){null==r&&(r=!1);var n=0,i=s.bin.writeUint,a=s.bin.writeUshort,l={};for(var o in e){var f=!s._noNeed(o)&&!r,c=e[o],d=s.crc.crc(c,0,c.length);l[o]={cpr:f,usize:c.length,crc:d,file:f?s.deflateRaw(c):c}}for(var o in l)n+=l[o].file.length+30+46+2*s.bin.sizeUTF8(o);var u=new Uint8Array(n+=22),h=0,m=[];for(var o in l){var p=l[o];m.push(h),h=s._writeHeader(u,h,o,p,0)}var x=0,b=h;for(var o in l)p=l[o],m.push(h),h=s._writeHeader(u,h,o,p,1,m[x++]);var g=h-b;return i(u,h,0x6054b50),h+=4,a(u,h+=4,x),a(u,h+=2,x),i(u,h+=2,g),i(u,h+=4,b),h+=4,h+=2,u.buffer},s._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(r)},s._writeHeader=function(e,r,n,i,a,l){var o=s.bin.writeUint,f=s.bin.writeUshort,c=i.file;return o(e,r,0==a?0x4034b50:0x2014b50),r+=4,1==a&&(r+=2),f(e,r,20),f(e,r+=2,0),f(e,r+=2,8*!!i.cpr),o(e,r+=2,0),o(e,r+=4,i.crc),o(e,r+=4,c.length),o(e,r+=4,i.usize),f(e,r+=4,s.bin.sizeUTF8(n)),f(e,r+=2,0),r+=2,1==a&&(r+=2,r+=2,o(e,r+=6,l),r+=4),r+=s.bin.writeUTF8(e,r,n),0==a&&(e.set(c,r),r+=c.length),r},s.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var n=r,i=0;i<8;i++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update:function(e,r,n,i){for(var a=0;a<i;a++)e=s.crc.table[255&(e^r[n+a])]^e>>>8;return e},crc:function(e,r,n){return 0xffffffff^s.crc.update(0xffffffff,e,r,n)}},s.adler=function(e,r,n){for(var i=1,a=0,l=r,s=r+n;l<s;){for(var o=Math.min(l+5552,s);l<o;)a+=i+=e[l++];i%=65521,a%=65521}return a<<16|i},s.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255},readUint:function(e,r){return 0x1000000*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},readASCII:function(e,r,n){for(var i="",a=0;a<n;a++)i+=String.fromCharCode(e[r+a]);return i},writeASCII:function(e,r,n){for(var i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,n){for(var i,a="",l=0;l<n;l++)a+="%"+s.bin.pad(e[r+l].toString(16));try{i=decodeURIComponent(a)}catch(i){return s.bin.readASCII(e,r,n)}return i},writeUTF8:function(e,r,n){for(var i=n.length,a=0,l=0;l<i;l++){var s=n.charCodeAt(l);if(0==(0xffffff80&s))e[r+a]=s,a++;else if(0==(0xfffff800&s))e[r+a]=192|s>>6,e[r+a+1]=128|63&s,a+=2;else if(0==(0xffff0000&s))e[r+a]=224|s>>12,e[r+a+1]=128|s>>6&63,e[r+a+2]=128|63&s,a+=3;else{if(0!=(0xffe00000&s))throw"e";e[r+a]=240|s>>18,e[r+a+1]=128|s>>12&63,e[r+a+2]=128|s>>6&63,e[r+a+3]=128|63&s,a+=4}}return a},sizeUTF8:function(e){for(var r=e.length,n=0,i=0;i<r;i++){var a=e.charCodeAt(i);if(0==(0xffffff80&a))n++;else if(0==(0xfffff800&a))n+=2;else if(0==(0xffff0000&a))n+=3;else{if(0!=(0xffe00000&a))throw"e";n+=4}}return n}},s.F={},s.F.deflateRaw=function(e,r,n,i){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],l=s.F.U,o=s.F._goodIndex;s.F._hash;var f=s.F._putsE,c=0,d=n<<3,u=0,h=e.length;if(0==i){for(;c<h;)f(r,d,+(c+(U=Math.min(65535,h-c))==h)),d=s.F._copyExact(e,c,U,r,d+8),c+=U;return d>>>3}var m=l.lits,p=l.strt,x=l.prev,b=0,g=0,v=0,w=0,y=0,A=0;for(h>2&&(p[A=s.F._hash(e,0)]=0),c=0;c<h;c++){if(y=A,c+1<h-2){A=s.F._hash(e,c+1);var j=c+1&32767;x[j]=p[A],p[A]=j}if(u<=c){(b>14e3||g>26697)&&h-c>100&&(u<c&&(m[b]=c-u,b+=2,u=c),d=s.F._writeBlock(+(c==h-1||u==h),m,b,w,e,v,c-v,r,d),b=g=w=0,v=c);var N=0;c<h-2&&(N=s.F._bestMatch(e,c,x,y,Math.min(a[2],h-c),a[3]));var U=N>>>16,F=65535&N;if(0!=N){F=65535&N;var C=o(U=N>>>16,l.of0);l.lhst[257+C]++;var k=o(F,l.df0);l.dhst[k]++,w+=l.exb[C]+l.dxb[k],m[b]=U<<23|c-u,m[b+1]=F<<16|C<<8|k,b+=2,u=c+U}else l.lhst[e[c]]++;g++}}for(v==c&&0!=e.length||(u<c&&(m[b]=c-u,b+=2,u=c),d=s.F._writeBlock(1,m,b,w,e,v,c-v,r,d),b=0,g=0,b=g=w=0,v=c);0!=(7&d);)d++;return d>>>3},s.F._bestMatch=function(e,r,n,i,a,l){var o=32767&r,f=n[o],c=o-f+32768&32767;if(f==o||i!=s.F._hash(e,r-c))return 0;for(var d=0,u=0,h=Math.min(32767,r);c<=h&&0!=--l&&f!=o;){if(0==d||e[r+d]==e[r+d-c]){var m=s.F._howLong(e,r,c);if(m>d){if(u=c,(d=m)>=a)break;c+2<m&&(m=c+2);for(var p=0,x=0;x<m-2;x++){var b=r-c+x+32768&32767,g=b-n[b]+32768&32767;g>p&&(p=g,f=b)}}}c+=(o=f)-(f=n[o])+32768&32767}return d<<16|u},s.F._howLong=function(e,r,n){if(e[r]!=e[r-n]||e[r+1]!=e[r+1-n]||e[r+2]!=e[r+2-n])return 0;var i=r,a=Math.min(e.length,r+258);for(r+=3;r<a&&e[r]==e[r-n];)r++;return r-i},s.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(e,r,n,i,a,l,o,f,c){var d,u,h,m,p,x,b,g,v,w,y,A=s.F.U,j=s.F._putsF,N=s.F._putsE;A.lhst[256]++,m=(h=s.F.getTrees())[0],p=h[1],x=h[2],b=h[3],g=h[4],v=h[5],w=h[6],y=h[7];var U=32+(0==(c+3&7)?0:8-(c+3&7))+(o<<3),F=i+s.F.contSize(A.fltree,A.lhst)+s.F.contSize(A.fdtree,A.dhst),C=i+s.F.contSize(A.ltree,A.lhst)+s.F.contSize(A.dtree,A.dhst);C+=14+3*v+s.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var k=0;k<286;k++)A.lhst[k]=0;for(k=0;k<30;k++)A.dhst[k]=0;for(k=0;k<19;k++)A.ihst[k]=0;var S=U<F&&U<C?0:F<C?1:2;if(j(f,c,e),j(f,c+1,S),c+=3,0==S){for(;0!=(7&c);)c++;c=s.F._copyExact(a,l,o,f,c)}else{if(1==S&&(d=A.fltree,u=A.fdtree),2==S){s.F.makeCodes(A.ltree,m),s.F.revCodes(A.ltree,m),s.F.makeCodes(A.dtree,p),s.F.revCodes(A.dtree,p),s.F.makeCodes(A.itree,x),s.F.revCodes(A.itree,x),d=A.ltree,u=A.dtree,N(f,c,b-257),N(f,c+=5,g-1),N(f,c+=5,v-4),c+=4;for(var E=0;E<v;E++)N(f,c+3*E,A.itree[1+(A.ordr[E]<<1)]);c+=3*v,c=s.F._codeTiny(w,A.itree,f,c),c=s.F._codeTiny(y,A.itree,f,c)}for(var _=l,M=0;M<n;M+=2){for(var I=r[M],B=I>>>23,T=_+(8388607&I);_<T;)c=s.F._writeLit(a[_++],d,f,c);if(0!=B){var R=r[M+1],P=R>>16,O=R>>8&255,L=255&R;N(f,c=s.F._writeLit(257+O,d,f,c),B-A.of0[O]),c+=A.exb[O],j(f,c=s.F._writeLit(L,u,f,c),P-A.df0[L]),c+=A.dxb[L],_+=B}}c=s.F._writeLit(256,d,f,c)}return c},s.F._copyExact=function(e,r,n,i,a){var l=a>>>3;return i[l]=n,i[l+1]=n>>>8,i[l+2]=255-i[l],i[l+3]=255-i[l+1],l+=4,i.set(new Uint8Array(e.buffer,r,n),l),a+(n+4<<3)},s.F.getTrees=function(){for(var e=s.F.U,r=s.F._hufTree(e.lhst,e.ltree,15),n=s.F._hufTree(e.dhst,e.dtree,15),i=[],a=s.F._lenCodes(e.ltree,i),l=[],o=s.F._lenCodes(e.dtree,l),f=0;f<i.length;f+=2)e.ihst[i[f]]++;for(f=0;f<l.length;f+=2)e.ihst[l[f]]++;for(var c=s.F._hufTree(e.ihst,e.itree,7),d=19;d>4&&0==e.itree[1+(e.ordr[d-1]<<1)];)d--;return[r,n,c,a,o,d,i,l]},s.F.getSecond=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(e[n+1]);return r},s.F.nonZero=function(e){for(var r="",n=0;n<e.length;n+=2)0!=e[n+1]&&(r+=(n>>1)+",");return r},s.F.contSize=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[1+(i<<1)];return n},s.F._codeTiny=function(e,r,n,i){for(var a=0;a<e.length;a+=2){var l=e[a],o=e[a+1];i=s.F._writeLit(l,r,n,i);var f=16==l?2:17==l?3:7;l>15&&(s.F._putsE(n,i,o,f),i+=f)}return i},s.F._lenCodes=function(e,r){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var a=e[i+1],l=i+3<n?e[i+3]:-1,s=i+5<n?e[i+5]:-1,o=0==i?-1:e[i-1];if(0==a&&l==a&&s==a){for(var f=i+5;f+2<n&&e[f+2]==a;)f+=2;(c=Math.min(f+1-i>>>1,138))<11?r.push(17,c-3):r.push(18,c-11),i+=2*c-2}else if(a==o&&l==a&&s==a){for(f=i+5;f+2<n&&e[f+2]==a;)f+=2;var c=Math.min(f+1-i>>>1,6);r.push(16,c-3),i+=2*c-2}else r.push(a,0)}return n>>>1},s.F._hufTree=function(e,r,n){var i=[],a=e.length,l=r.length,o=0;for(o=0;o<l;o+=2)r[o]=0,r[o+1]=0;for(o=0;o<a;o++)0!=e[o]&&i.push({lit:o,f:e[o]});var f=i.length,c=i.slice(0);if(0==f)return 0;if(1==f){var d=i[0].lit;return c=+(0==d),r[1+(d<<1)]=1,r[1+(c<<1)]=1,1}i.sort(function(e,r){return e.f-r.f});var u=i[0],h=i[1],m=0,p=1,x=2;for(i[0]={lit:-1,f:u.f+h.f,l:u,r:h,d:0};p!=f-1;)u=m!=p&&(x==f||i[m].f<i[x].f)?i[m++]:i[x++],h=m!=p&&(x==f||i[m].f<i[x].f)?i[m++]:i[x++],i[p++]={lit:-1,f:u.f+h.f,l:u,r:h};var b=s.F.setDepth(i[p-1],0);for(b>n&&(s.F.restrictDepth(c,n,b),b=n),o=0;o<f;o++)r[1+(c[o].lit<<1)]=c[o].d;return b},s.F.setDepth=function(e,r){return -1!=e.lit?(e.d=r,r):Math.max(s.F.setDepth(e.l,r+1),s.F.setDepth(e.r,r+1))},s.F.restrictDepth=function(e,r,n){var i=0,a=1<<n-r,l=0;for(e.sort(function(e,r){return r.d==e.d?e.f-r.f:r.d-e.d}),i=0;i<e.length&&e[i].d>r;i++){var s=e[i].d;e[i].d=r,l+=a-(1<<n-s)}for(l>>>=n-r;l>0;)(s=e[i].d)<r?(e[i].d++,l-=1<<r-s-1):i++;for(;i>=0;i--)e[i].d==r&&l<0&&(e[i].d--,l++);0!=l&&console.log("debt left")},s.F._goodIndex=function(e,r){var n=0;return r[16]<=e&&(n|=16),r[8|n]<=e&&(n|=8),r[4|n]<=e&&(n|=4),r[2|n]<=e&&(n|=2),r[1|n]<=e&&(n|=1),n},s.F._writeLit=function(e,r,n,i){return s.F._putsF(n,i,r[e<<1]),i+r[1+(e<<1)]},s.F.inflate=function(e,r){var n=Uint8Array;if(3==e[0]&&0==e[1])return r||new n(0);var i=s.F,a=i._bitsF,l=i._bitsE,o=i._decodeTiny,f=i.makeCodes,c=i.codes2map,d=i._get17,u=i.U,h=null==r;h&&(r=new n(e.length>>>2<<3));for(var m,p,x=0,b=0,g=0,v=0,w=0,y=0,A=0,j=0,N=0;0==x;)if(x=a(e,N,1),b=a(e,N+1,2),N+=3,0!=b){if(h&&(r=s.F._check(r,j+131072)),1==b&&(m=u.flmap,p=u.fdmap,y=511,A=31),2==b){g=l(e,N,5)+257,v=l(e,N+5,5)+1,w=l(e,N+10,4)+4,N+=14;for(var U=0;U<38;U+=2)u.itree[U]=0,u.itree[U+1]=0;var F=1;for(U=0;U<w;U++){var C=l(e,N+3*U,3);u.itree[1+(u.ordr[U]<<1)]=C,C>F&&(F=C)}N+=3*w,f(u.itree,F),c(u.itree,F,u.imap),m=u.lmap,p=u.dmap,N=o(u.imap,(1<<F)-1,g+v,e,N,u.ttree);var k=i._copyOut(u.ttree,0,g,u.ltree);y=(1<<k)-1;var S=i._copyOut(u.ttree,g,v,u.dtree);A=(1<<S)-1,f(u.ltree,k),c(u.ltree,k,m),f(u.dtree,S),c(u.dtree,S,p)}for(;;){var E=m[d(e,N)&y];N+=15&E;var _=E>>>4;if(_>>>8==0)r[j++]=_;else{if(256==_)break;var M=j+_-254;if(_>264){var I=u.ldef[_-257];M=j+(I>>>3)+l(e,N,7&I),N+=7&I}var B=p[d(e,N)&A];N+=15&B;var T=B>>>4,R=u.ddef[T],P=(R>>>4)+a(e,N,15&R);for(N+=15&R,h&&(r=s.F._check(r,j+131072));j<M;)r[j]=r[j++-P],r[j]=r[j++-P],r[j]=r[j++-P],r[j]=r[j++-P];j=M}}}else{0!=(7&N)&&(N+=8-(7&N));var O=4+(N>>>3),L=e[O-4]|e[O-3]<<8;h&&(r=s.F._check(r,j+L)),r.set(new n(e.buffer,e.byteOffset+O,L),j),N=O+L<<3,j+=L}return r.length==j?r:r.slice(0,j)},s.F._check=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(Math.max(n<<1,r));return i.set(e,0),i},s.F._decodeTiny=function(e,r,n,i,a,l){for(var o=s.F._bitsE,f=s.F._get17,c=0;c<n;){var d=e[f(i,a)&r];a+=15&d;var u=d>>>4;if(u<=15)l[c]=u,c++;else{var h=0,m=0;16==u?(m=3+o(i,a,2),a+=2,h=l[c-1]):17==u?(m=3+o(i,a,3),a+=3):18==u&&(m=11+o(i,a,7),a+=7);for(var p=c+m;c<p;)l[c]=h,c++}}return a},s.F._copyOut=function(e,r,n,i){for(var a=0,l=0,s=i.length>>>1;l<n;){var o=e[l+r];i[l<<1]=0,i[1+(l<<1)]=o,o>a&&(a=o),l++}for(;l<s;)i[l<<1]=0,i[1+(l<<1)]=0,l++;return a},s.F.makeCodes=function(e,r){for(var n,i,a,l,o=s.F.U,f=e.length,c=o.bl_count,d=0;d<=r;d++)c[d]=0;for(d=1;d<f;d+=2)c[e[d]]++;var u=o.next_code;for(n=0,c[0]=0,i=1;i<=r;i++)n=n+c[i-1]<<1,u[i]=n;for(a=0;a<f;a+=2)0!=(l=e[a+1])&&(e[a]=u[l],u[l]++)},s.F.codes2map=function(e,r,n){for(var i=e.length,a=s.F.U.rev15,l=0;l<i;l+=2)if(0!=e[l+1])for(var o=l>>1,f=e[l+1],c=o<<4|f,d=r-f,u=e[l]<<d,h=u+(1<<d);u!=h;)n[a[u]>>>15-r]=c,u++},s.F.revCodes=function(e,r){for(var n=s.F.U.rev15,i=15-r,a=0;a<e.length;a+=2){var l=e[a]<<r-e[a+1];e[a]=n[l]>>>i}},s.F._putsE=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},s.F._putsF=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},s.F._bitsE=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},s.F._bitsF=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},s.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},s.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},s.F.U=(a=Uint16Array,l=Uint32Array,{next_code:new a(16),bl_count:new a(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new a(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new l(32),flmap:new a(512),fltree:[],fdmap:new a(32),fdtree:[],lmap:new a(32768),ltree:[],ttree:[],dmap:new a(32768),dtree:[],imap:new a(512),itree:[],rev15:new a(32768),lhst:new l(286),dhst:new l(30),ihst:new l(19),lits:new l(15e3),strt:new a(65536),prev:new a(32768)}),function(){for(var e=s.F.U,r=0;r<32768;r++){var n=r;n=(0xff00ff00&(n=(0xf0f0f0f0&(n=(0xcccccccc&(n=(0xaaaaaaaa&n)>>>1|(0x55555555&n)<<1))>>>2|(0x33333333&n)<<2))>>>4|(0xf0f0f0f&n)<<4))>>>8|(0xff00ff&n)<<8,e.rev15[r]=(n>>>16|n<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),s.F.makeCodes(e.fltree,9),s.F.codes2map(e.fltree,9,e.flmap),s.F.revCodes(e.fltree,9),i(e.fdtree,32,5),s.F.makeCodes(e.fdtree,5),s.F.codes2map(e.fdtree,5,e.fdmap),s.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}();var c=(o={__proto__:null,default:f},[f].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if("default"!==r&&!(r in o)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(o,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(o));let d=function(){let e,r,n;var i={nextZero(e,r){for(;0!=e[r];)r++;return r},readUshort:(e,r)=>e[r]<<8|e[r+1],writeUshort(e,r,n){e[r]=n>>8&255,e[r+1]=255&n},readUint:(e,r)=>0x1000000*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3]),writeUint(e,r,n){e[r]=n>>24&255,e[r+1]=n>>16&255,e[r+2]=n>>8&255,e[r+3]=255&n},readASCII(e,r,n){let i="";for(let a=0;a<n;a++)i+=String.fromCharCode(e[r+a]);return i},writeASCII(e,r,n){for(let i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},readBytes(e,r,n){let i=[];for(let a=0;a<n;a++)i.push(e[r+a]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(e,r,n){let a,l="";for(let a=0;a<n;a++)l+=`%${i.pad(e[r+a].toString(16))}`;try{a=decodeURIComponent(l)}catch(a){return i.readASCII(e,r,n)}return a}};function a(e,r,n,a){let l=r*n,s=Math.ceil(r*f(a)/8),o=new Uint8Array(4*l),c=new Uint32Array(o.buffer),{ctype:d}=a,{depth:u}=a,h=i.readUshort;if(6==d){let r=l<<2;if(8==u)for(var m=0;m<r;m+=4)o[m]=e[m],o[m+1]=e[m+1],o[m+2]=e[m+2],o[m+3]=e[m+3];if(16==u)for(m=0;m<r;m++)o[m]=e[m<<1]}else if(2==d){let r=a.tabs.tRNS;if(null==r){if(8==u)for(m=0;m<l;m++){var p=3*m;c[m]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p]}if(16==u)for(m=0;m<l;m++)p=6*m,c[m]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p]}else{var x=r[0];let n=r[1],i=r[2];if(8==u)for(m=0;m<l;m++){var b=m<<2;p=3*m,c[m]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p],e[p]==x&&e[p+1]==n&&e[p+2]==i&&(o[b+3]=0)}if(16==u)for(m=0;m<l;m++)b=m<<2,p=6*m,c[m]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p],h(e,p)==x&&h(e,p+2)==n&&h(e,p+4)==i&&(o[b+3]=0)}}else if(3==d){let i=a.tabs.PLTE,f=a.tabs.tRNS,c=f?f.length:0;if(1==u)for(var g,v=0;v<n;v++){var w=v*s,y=v*r;for(m=0;m<r;m++){b=y+m<<2;var A=3*(g=e[w+(m>>3)]>>7-(7&m)&1);o[b]=i[A],o[b+1]=i[A+1],o[b+2]=i[A+2],o[b+3]=g<c?f[g]:255}}if(2==u)for(v=0;v<n;v++)for(w=v*s,y=v*r,m=0;m<r;m++)b=y+m<<2,A=3*(g=e[w+(m>>2)]>>6-((3&m)<<1)&3),o[b]=i[A],o[b+1]=i[A+1],o[b+2]=i[A+2],o[b+3]=g<c?f[g]:255;if(4==u)for(v=0;v<n;v++)for(w=v*s,y=v*r,m=0;m<r;m++)b=y+m<<2,A=3*(g=e[w+(m>>1)]>>4-((1&m)<<2)&15),o[b]=i[A],o[b+1]=i[A+1],o[b+2]=i[A+2],o[b+3]=g<c?f[g]:255;if(8==u)for(m=0;m<l;m++)b=m<<2,A=3*(g=e[m]),o[b]=i[A],o[b+1]=i[A+1],o[b+2]=i[A+2],o[b+3]=g<c?f[g]:255}else if(4==d){if(8==u)for(m=0;m<l;m++){b=m<<2;var j,N=e[j=m<<1];o[b]=N,o[b+1]=N,o[b+2]=N,o[b+3]=e[j+1]}if(16==u)for(m=0;m<l;m++)b=m<<2,N=e[j=m<<2],o[b]=N,o[b+1]=N,o[b+2]=N,o[b+3]=e[j+2]}else if(0==d)for(x=a.tabs.tRNS?a.tabs.tRNS:-1,v=0;v<n;v++){let n=v*s,i=v*r;if(1==u)for(var U=0;U<r;U++){var F=255*((N=255*(e[n+(U>>>3)]>>>7-(7&U)&1))!=255*x);c[i+U]=F<<24|N<<16|N<<8|N}else if(2==u)for(U=0;U<r;U++)F=255*((N=85*(e[n+(U>>>2)]>>>6-((3&U)<<1)&3))!=85*x),c[i+U]=F<<24|N<<16|N<<8|N;else if(4==u)for(U=0;U<r;U++)F=255*((N=17*(e[n+(U>>>1)]>>>4-((1&U)<<2)&15))!=17*x),c[i+U]=F<<24|N<<16|N<<8|N;else if(8==u)for(U=0;U<r;U++)F=255*((N=e[n+U])!=x),c[i+U]=F<<24|N<<16|N<<8|N;else if(16==u)for(U=0;U<r;U++)N=e[n+(U<<1)],F=255*(h(e,n+(U<<1))!=x),c[i+U]=F<<24|N<<16|N<<8|N}return o}function l(e,r,n,i){let a=new Uint8Array((Math.ceil(n*f(e)/8)+1+e.interlace)*i);return r=e.tabs.CgBI?o(r,a):s(r,a),0==e.interlace?r=c(r,e,0,n,i):1==e.interlace&&(r=function(e,r){let n=r.width,i=r.height,a=f(r),l=a>>3,s=Math.ceil(n*a/8),o=new Uint8Array(i*s),d=0,u=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1],x=0;for(;x<7;){let f=m[x],g=p[x],v=0,w=0,y=u[x];for(;y<i;)y+=f,w++;let A=h[x];for(;A<n;)A+=g,v++;let j=Math.ceil(v*a/8);c(e,r,d,v,w);let N=0,U=u[x];for(;U<i;){let r=h[x],i=d+N*j<<3;for(;r<n;){var b;if(1==a&&(b=(b=e[i>>3])>>7-(7&i)&1,o[U*s+(r>>3)]|=b<<7-(7&r)),2==a&&(b=(b=e[i>>3])>>6-(7&i)&3,o[U*s+(r>>2)]|=b<<6-((3&r)<<1)),4==a&&(b=(b=e[i>>3])>>4-(7&i)&15,o[U*s+(r>>1)]|=b<<4-((1&r)<<2)),a>=8){let n=U*s+r*l;for(let r=0;r<l;r++)o[n+r]=e[(i>>3)+r]}i+=a,r+=g}N++,U+=f}v*w!=0&&(d+=w*(1+j)),x+=1}return o}(r,e)),r}function s(e,r){return o(new Uint8Array(e.buffer,2,e.length-6),r)}var o=((e={}).N=function(r,n){let i=Uint8Array,a,l,s=0,o=0,f=0,c=0,d=0,u=0,h=0,m=0,p=0;if(3==r[0]&&0==r[1])return n||new i(0);let x=e.b,b=e.e,g=e.R,v=e.n,w=e.A,y=e.Z,A=e.m,j=null==n;for(j&&(n=new i(r.length>>>2<<5));0==s;)if(s=x(r,p,1),o=x(r,p+1,2),p+=3,0!=o){if(j&&(n=e.W(n,m+131072)),1==o&&(a=A.J,l=A.h,u=511,h=31),2==o){f=b(r,p,5)+257,c=b(r,p+5,5)+1,d=b(r,p+10,4)+4,p+=14;let n=1;for(var N=0;N<38;N+=2)A.Q[N]=0,A.Q[N+1]=0;for(N=0;N<d;N++){let e=b(r,p+3*N,3);A.Q[1+(A.X[N]<<1)]=e,e>n&&(n=e)}p+=3*d,v(A.Q,n),w(A.Q,n,A.u),a=A.w,l=A.d,p=g(A.u,(1<<n)-1,f+c,r,p,A.v);let i=e.V(A.v,0,f,A.C);u=(1<<i)-1;let s=e.V(A.v,f,c,A.D);h=(1<<s)-1,v(A.C,i),w(A.C,i,a),v(A.D,s),w(A.D,s,l)}for(;;){let e=a[y(r,p)&u];p+=15&e;let i=e>>>4;if(i>>>8==0)n[m++]=i;else{if(256==i)break;{let e=m+i-254;if(i>264){let n=A.q[i-257];e=m+(n>>>3)+b(r,p,7&n),p+=7&n}let a=l[y(r,p)&h];p+=15&a;let s=a>>>4,o=A.c[s],f=(o>>>4)+x(r,p,15&o);for(p+=15&o;m<e;)n[m]=n[m++-f],n[m]=n[m++-f],n[m]=n[m++-f],n[m]=n[m++-f];m=e}}}}else{0!=(7&p)&&(p+=8-(7&p));let a=4+(p>>>3),l=r[a-4]|r[a-3]<<8;j&&(n=e.W(n,m+l)),n.set(new i(r.buffer,r.byteOffset+a,l),m),p=a+l<<3,m+=l}return n.length==m?n:n.slice(0,m)},e.W=function(e,r){let n=e.length;if(r<=n)return e;let i=new Uint8Array(n<<1);return i.set(e,0),i},e.R=function(r,n,i,a,l,s){let o=e.e,f=e.Z,c=0;for(;c<i;){let e=r[f(a,l)&n];l+=15&e;let i=e>>>4;if(i<=15)s[c]=i,c++;else{let e=0,r=0;16==i?(r=3+o(a,l,2),l+=2,e=s[c-1]):17==i?(r=3+o(a,l,3),l+=3):18==i&&(r=11+o(a,l,7),l+=7);let n=c+r;for(;c<n;)s[c]=e,c++}}return l},e.V=function(e,r,n,i){let a=0,l=0,s=i.length>>>1;for(;l<n;){let n=e[l+r];i[l<<1]=0,i[1+(l<<1)]=n,n>a&&(a=n),l++}for(;l<s;)i[l<<1]=0,i[1+(l<<1)]=0,l++;return a},e.n=function(r,n){let i,a,l,s,o=e.m,f=r.length,c=o.j;for(var d=0;d<=n;d++)c[d]=0;for(d=1;d<f;d+=2)c[r[d]]++;let u=o.K;for(i=0,c[0]=0,a=1;a<=n;a++)i=i+c[a-1]<<1,u[a]=i;for(l=0;l<f;l+=2)0!=(s=r[l+1])&&(r[l]=u[s],u[s]++)},e.A=function(r,n,i){let a=r.length,l=e.m.r;for(let e=0;e<a;e+=2)if(0!=r[e+1]){let a=e>>1,s=r[e+1],o=a<<4|s,f=n-s,c=r[e]<<f,d=c+(1<<f);for(;c!=d;)i[l[c]>>>15-n]=o,c++}},e.l=function(r,n){let i=e.m.r,a=15-n;for(let e=0;e<r.length;e+=2){let l=r[e]<<n-r[e+1];r[e]=i[l]>>>a}},e.M=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},e.I=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},e.e=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},e.b=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},e.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},e.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},r=Uint16Array,n=Uint32Array,e.m={K:new r(16),j:new r(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new r(512),_:[],h:new r(32),$:[],w:new r(32768),C:[],v:[],d:new r(32768),D:[],u:new r(512),Q:[],r:new r(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new r(65536),g:new r(32768)},function(){let r=e.m;for(var n=0;n<32768;n++){let e=n;e=(0xff00ff00&(e=(0xf0f0f0f0&(e=(0xcccccccc&(e=(0xaaaaaaaa&e)>>>1|(0x55555555&e)<<1))>>>2|(0x33333333&e)<<2))>>>4|(0xf0f0f0f&e)<<4))>>>8|(0xff00ff&e)<<8,r.r[n]=(e>>>16|e<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];i(r._,144,8),i(r._,112,9),i(r._,24,7),i(r._,8,8),e.n(r._,9),e.A(r._,9,r.J),e.l(r._,9),i(r.$,32,5),e.n(r.$,5),e.A(r.$,5,r.h),e.l(r.$,5),i(r.Q,19,0),i(r.C,286,0),i(r.D,30,0),i(r.v,320,0)}(),e.N);function f(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function c(e,r,n,i,a){let l,s,o=f(r),c=Math.ceil(i*o/8);o=Math.ceil(o/8);let u=e[n],h=0;if(u>1&&(e[n]=[0,0,1][u-2]),3==u)for(h=o;h<c;h++)e[h+1]=e[h+1]+(e[h+1-o]>>>1)&255;for(let r=0;r<a;r++)if(u=e[(s=(l=n+r*c)+r+1)-1],h=0,0==u)for(;h<c;h++)e[l+h]=e[s+h];else if(1==u){for(;h<o;h++)e[l+h]=e[s+h];for(;h<c;h++)e[l+h]=e[s+h]+e[l+h-o]}else if(2==u)for(;h<c;h++)e[l+h]=e[s+h]+e[l+h-c];else if(3==u){for(;h<o;h++)e[l+h]=e[s+h]+(e[l+h-c]>>>1);for(;h<c;h++)e[l+h]=e[s+h]+(e[l+h-c]+e[l+h-o]>>>1)}else{for(;h<o;h++)e[l+h]=e[s+h]+d(0,e[l+h-c],0);for(;h<c;h++)e[l+h]=e[s+h]+d(e[l+h-o],e[l+h-c],e[l+h-o-c])}return e}function d(e,r,n){let i=e+r-n,a=i-e,l=i-r,s=i-n;return a*a<=l*l&&a*a<=s*s?e:l*l<=s*s?r:n}function u(e,r,n,i,a,l,s,o,f){let c=Math.min(r,a),d=Math.min(n,l),u=0,h=0;for(let n=0;n<d;n++)for(let l=0;l<c;l++)if(s>=0&&o>=0?(u=n*r+l<<2,h=(o+n)*a+s+l<<2):(u=(-o+n)*r-s+l<<2,h=n*a+l<<2),0==f)i[h]=e[u],i[h+1]=e[u+1],i[h+2]=e[u+2],i[h+3]=e[u+3];else if(1==f){var m=e[u+3]*(1/255),p=e[u]*m,x=e[u+1]*m,b=e[u+2]*m,g=i[h+3]*(1/255),v=i[h]*g,w=i[h+1]*g,y=i[h+2]*g;let r=1-m,n=m+g*r,a=0==n?0:1/n;i[h+3]=255*n,i[h+0]=(p+v*r)*a,i[h+1]=(x+w*r)*a,i[h+2]=(b+y*r)*a}else if(2==f)m=e[u+3],p=e[u],x=e[u+1],b=e[u+2],g=i[h+3],v=i[h],w=i[h+1],y=i[h+2],m==g&&p==v&&x==w&&b==y?(i[h]=0,i[h+1]=0,i[h+2]=0,i[h+3]=0):(i[h]=p,i[h+1]=x,i[h+2]=b,i[h+3]=m);else if(3==f){if(m=e[u+3],p=e[u],x=e[u+1],b=e[u+2],g=i[h+3],v=i[h],w=i[h+1],y=i[h+2],m==g&&p==v&&x==w&&b==y)continue;if(m<220&&g>20)return!1}return!0}return{decode:function(e){let r=new Uint8Array(e),n=8,a=i.readUshort,f=i.readUint,c={tabs:{},frames:[]},d=new Uint8Array(r.length),u,h=0,m=0,p=[137,80,78,71,13,10,26,10];for(var x,b=0;b<8;b++)if(r[b]!=p[b])throw"The input is not a PNG file!";for(;n<r.length;){let e=i.readUint(r,n);n+=4;let p=i.readASCII(r,n,4);if(n+=4,"IHDR"==p)g=n,c.width=i.readUint(r,g),g+=4,c.height=i.readUint(r,g),c.depth=r[g+=4],c.ctype=r[++g],c.compress=r[++g],c.filter=r[++g],c.interlace=r[++g],g++;else if("iCCP"==p){for(var g,v,w=n;0!=r[w];)w++;i.readASCII(r,n,w-n),r[w+1];let a=r.slice(w+2,n+e),l=null;try{l=s(a)}catch(e){l=o(a)}c.tabs[p]=l}else if("CgBI"==p)c.tabs[p]=r.slice(n,n+4);else if("IDAT"==p){for(b=0;b<e;b++)d[h+b]=r[n+b];h+=e}else if("acTL"==p)c.tabs[p]={num_frames:f(r,n),num_plays:f(r,n+4)},u=new Uint8Array(r.length);else if("fcTL"==p){0!=m&&((x=c.frames[c.frames.length-1]).data=l(c,u.slice(0,m),x.rect.width,x.rect.height),m=0);let e={x:f(r,n+12),y:f(r,n+16),width:f(r,n+4),height:f(r,n+8)},i=a(r,n+22),s={rect:e,delay:Math.round(1e3*(i=a(r,n+20)/(0==i?100:i))),dispose:r[n+24],blend:r[n+25]};c.frames.push(s)}else if("fdAT"==p){for(b=0;b<e-4;b++)u[m+b]=r[n+b+4];m+=e-4}else if("pHYs"==p)c.tabs[p]=[i.readUint(r,n),i.readUint(r,n+4),r[n+8]];else if("cHRM"==p)for(b=0,c.tabs[p]=[];b<8;b++)c.tabs[p].push(i.readUint(r,n+4*b));else if("tEXt"==p||"zTXt"==p){null==c.tabs[p]&&(c.tabs[p]={});var y=i.nextZero(r,n),A=i.readASCII(r,n,y-n),j=n+e-y-1;if("tEXt"==p)v=i.readASCII(r,y+1,j);else{var N=s(r.slice(y+2,y+2+j));v=i.readUTF8(N,0,N.length)}c.tabs[p][A]=v}else if("iTXt"==p){null==c.tabs[p]&&(c.tabs[p]={}),y=0,w=n,y=i.nextZero(r,w),A=i.readASCII(r,w,y-w);let a=r[w=y+1];r[w+1],w+=2,y=i.nextZero(r,w),i.readASCII(r,w,y-w),w=y+1,y=i.nextZero(r,w),i.readUTF8(r,w,y-w),j=e-((w=y+1)-n),0==a?v=i.readUTF8(r,w,j):(N=s(r.slice(w,w+j)),v=i.readUTF8(N,0,N.length)),c.tabs[p][A]=v}else if("PLTE"==p)c.tabs[p]=i.readBytes(r,n,e);else if("hIST"==p){let e=c.tabs.PLTE.length/3;for(b=0,c.tabs[p]=[];b<e;b++)c.tabs[p].push(a(r,n+2*b))}else if("tRNS"==p)3==c.ctype?c.tabs[p]=i.readBytes(r,n,e):0==c.ctype?c.tabs[p]=a(r,n):2==c.ctype&&(c.tabs[p]=[a(r,n),a(r,n+2),a(r,n+4)]);else if("gAMA"==p)c.tabs[p]=i.readUint(r,n)/1e5;else if("sRGB"==p)c.tabs[p]=r[n];else if("bKGD"==p)0==c.ctype||4==c.ctype?c.tabs[p]=[a(r,n)]:2==c.ctype||6==c.ctype?c.tabs[p]=[a(r,n),a(r,n+2),a(r,n+4)]:3==c.ctype&&(c.tabs[p]=r[n]);else if("IEND"==p)break;n+=e,i.readUint(r,n),n+=4}return 0!=m&&((x=c.frames[c.frames.length-1]).data=l(c,u.slice(0,m),x.rect.width,x.rect.height)),c.data=l(c,d,c.width,c.height),delete c.compress,delete c.interlace,delete c.filter,c},toRGBA8:function(e){let r=e.width,n=e.height;if(null==e.tabs.acTL)return[a(e.data,r,n,e).buffer];let i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let l=r*n*4,s=new Uint8Array(l),o=new Uint8Array(l),f=new Uint8Array(l);for(let d=0;d<e.frames.length;d++){let h=e.frames[d],m=h.rect.x,p=h.rect.y,x=h.rect.width,b=h.rect.height,g=a(h.data,x,b,e);if(0!=d)for(var c=0;c<l;c++)f[c]=s[c];if(0==h.blend?u(g,x,b,s,r,n,m,p,0):1==h.blend&&u(g,x,b,s,r,n,m,p,1),i.push(s.buffer.slice(0)),0==h.dispose);else if(1==h.dispose)u(o,x,b,s,r,n,m,p,0);else if(2==h.dispose)for(c=0;c<l;c++)s[c]=f[c]}return i},_paeth:d,_copyTile:u,_bin:i}}();!function(){let{_copyTile:e}=d,{_bin:r}=d,n=d._paeth;var i={table:function(){let e=new Uint32Array(256);for(let r=0;r<256;r++){let n=r;for(let e=0;e<8;e++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update(e,r,n,a){for(let l=0;l<a;l++)e=i.table[255&(e^r[n+l])]^e>>>8;return e},crc:(e,r,n)=>0xffffffff^i.update(0xffffffff,e,r,n)};function a(e,r,n,i){r[n]+=e[0]*i>>4,r[n+1]+=e[1]*i>>4,r[n+2]+=e[2]*i>>4,r[n+3]+=e[3]*i>>4}function l(e){return Math.max(0,Math.min(255,e))}function s(e,r){let n=e[0]-r[0],i=e[1]-r[1],a=e[2]-r[2],l=e[3]-r[3];return n*n+i*i+a*a+l*l}function o(e,r,n,i,o,f,c){null==c&&(c=1);let d=i.length,u=[];for(var h,m=0;m<d;m++){let e=i[m];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(m=0;m<d;m++){let e=0xffffffff;for(var p=0,x=0;x<d;x++){var b=s(u[m],u[x]);x!=m&&b<e&&(e=b,p=x)}}let g=new Uint32Array(o.buffer),v=new Int16Array(r*n*4),w=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(m=0;m<w.length;m++)w[m]=255*((w[m]+.5)/16-.5);for(let o=0;o<n;o++)for(let y=0;y<r;y++){m=4*(o*r+y),2!=c?h=[l(e[m]+v[m]),l(e[m+1]+v[m+1]),l(e[m+2]+v[m+2]),l(e[m+3]+v[m+3])]:(b=w[4*(3&o)+(3&y)],h=[l(e[m]+b),l(e[m+1]+b),l(e[m+2]+b),l(e[m+3]+b)]),p=0;let A=0xffffff;for(x=0;x<d;x++){let e=s(h,u[x]);e<A&&(A=e,p=x)}let j=u[p],N=[h[0]-j[0],h[1]-j[1],h[2]-j[2],h[3]-j[3]];1==c&&(y!=r-1&&a(N,v,m+4,7),o!=n-1&&(0!=y&&a(N,v,m+4*r-4,3),a(N,v,m+4*r,5),y!=r-1&&a(N,v,m+4*r+4,1))),f[m>>2]=p,g[m>>2]=i[p]}}function f(e,n,a,l,s){null==s&&(s={});let{crc:o}=i,f=r.writeUint,c=r.writeUshort,d=r.writeASCII,u=8,h=e.frames.length>1,m,p=!1,x=33+20*!!h;if(null!=s.sRGB&&(x+=13),null!=s.pHYs&&(x+=21),null!=s.iCCP&&(x+=21+(m=pako.deflate(s.iCCP)).length+4),3==e.ctype){for(var b=e.plte.length,g=0;g<b;g++)e.plte[g]>>>24!=255&&(p=!0);x+=8+3*b+4+(p?8+ +b+4:0)}for(var v=0;v<e.frames.length;v++)h&&(x+=38),x+=(j=e.frames[v]).cimg.length+12,0!=v&&(x+=4);let w=new Uint8Array(x+=12),y=[137,80,78,71,13,10,26,10];for(g=0;g<8;g++)w[g]=y[g];if(f(w,u,13),d(w,u+=4,"IHDR"),f(w,u+=4,n),f(w,u+=4,a),w[u+=4]=e.depth,w[++u]=e.ctype,w[++u]=0,w[++u]=0,w[++u]=0,f(w,++u,o(w,u-17,17)),u+=4,null!=s.sRGB&&(f(w,u,1),d(w,u+=4,"sRGB"),w[u+=4]=s.sRGB,f(w,++u,o(w,u-5,5)),u+=4),null!=s.iCCP){let e=13+m.length;f(w,u,e),d(w,u+=4,"iCCP"),d(w,u+=4,"ICC profile"),u+=11,u+=2,w.set(m,u),f(w,u+=m.length,o(w,u-(e+4),e+4)),u+=4}if(null!=s.pHYs&&(f(w,u,9),d(w,u+=4,"pHYs"),f(w,u+=4,s.pHYs[0]),f(w,u+=4,s.pHYs[1]),w[u+=4]=s.pHYs[2],f(w,++u,o(w,u-13,13)),u+=4),h&&(f(w,u,8),d(w,u+=4,"acTL"),f(w,u+=4,e.frames.length),f(w,u+=4,null!=s.loop?s.loop:0),f(w,u+=4,o(w,u-12,12)),u+=4),3==e.ctype){for(f(w,u,3*(b=e.plte.length)),d(w,u+=4,"PLTE"),u+=4,g=0;g<b;g++){let r=3*g,n=e.plte[g],i=255&n,a=n>>>8&255,l=n>>>16&255;w[u+r+0]=i,w[u+r+1]=a,w[u+r+2]=l}if(f(w,u+=3*b,o(w,u-3*b-4,3*b+4)),u+=4,p){for(f(w,u,b),d(w,u+=4,"tRNS"),u+=4,g=0;g<b;g++)w[u+g]=e.plte[g]>>>24&255;f(w,u+=b,o(w,u-b-4,b+4)),u+=4}}let A=0;for(v=0;v<e.frames.length;v++){var j=e.frames[v];h&&(f(w,u,26),d(w,u+=4,"fcTL"),f(w,u+=4,A++),f(w,u+=4,j.rect.width),f(w,u+=4,j.rect.height),f(w,u+=4,j.rect.x),f(w,u+=4,j.rect.y),c(w,u+=4,l[v]),c(w,u+=2,1e3),w[u+=2]=j.dispose,w[++u]=j.blend,f(w,++u,o(w,u-30,30)),u+=4);let r=j.cimg;f(w,u,(b=r.length)+4*(0!=v));let n=u+=4;d(w,u,0==v?"IDAT":"fdAT"),u+=4,0!=v&&(f(w,u,A++),u+=4),w.set(r,u),f(w,u+=b,o(w,n,u-n)),u+=4}return f(w,u,0),d(w,u+=4,"IEND"),f(w,u+=4,o(w,u-4,4)),u+=4,w.buffer}function u(e,r,i){for(let a=0;a<e.frames.length;a++){let l=e.frames[a];l.rect.width;let s=l.rect.height,o=new Uint8Array(s*l.bpl+s);l.cimg=function(e,r,i,a,l,s,o){let f=[],d,u=[0,1,2,3,4];-1!=s?u=[s]:(r*a>5e5||1==i)&&(u=[0]),o&&(d={level:0});for(var h=0;h<u.length;h++){for(let s=0;s<r;s++)!function(e,r,i,a,l,s){let o=i*a,f=o+i;if(e[f]=s,f++,0==s)if(a<500)for(var c=0;c<a;c++)e[f+c]=r[o+c];else e.set(new Uint8Array(r.buffer,o,a),f);else if(1==s){for(c=0;c<l;c++)e[f+c]=r[o+c];for(c=l;c<a;c++)e[f+c]=r[o+c]-r[o+c-l]+256&255}else if(0==i){for(c=0;c<l;c++)e[f+c]=r[o+c];if(2==s)for(c=l;c<a;c++)e[f+c]=r[o+c];if(3==s)for(c=l;c<a;c++)e[f+c]=r[o+c]-(r[o+c-l]>>1)+256&255;if(4==s)for(c=l;c<a;c++)e[f+c]=r[o+c]-n(r[o+c-l],0,0)+256&255}else{if(2==s)for(c=0;c<a;c++)e[f+c]=r[o+c]+256-r[o+c-a]&255;if(3==s){for(c=0;c<l;c++)e[f+c]=r[o+c]+256-(r[o+c-a]>>1)&255;for(c=l;c<a;c++)e[f+c]=r[o+c]+256-(r[o+c-a]+r[o+c-l]>>1)&255}if(4==s){for(c=0;c<l;c++)e[f+c]=r[o+c]+256-n(0,r[o+c-a],0)&255;for(c=l;c<a;c++)e[f+c]=r[o+c]+256-n(r[o+c-l],r[o+c-a],r[o+c-l-a])&255}}}(l,e,s,a,i,u[h]);f.push(c.deflate(l,d))}let m,p=1e9;for(h=0;h<f.length;h++)f[h].length<p&&(m=h,p=f[h].length);return f[m]}(l.img,s,l.bpp,l.bpl,o,r,i)}}function h(r,n,i,a,l){let s=l[0],f=l[1],c=l[2],d=l[3],u=l[4],h=l[5],b=6,g=8,v=255;for(var w=0;w<r.length;w++){let e=new Uint8Array(r[w]);for(var y=e.length,A=0;A<y;A+=4)v&=e[A+3]}let j=255!=v,N=function(r,n,i,a,l,s){let o=[];for(var f,c=0;c<r.length;c++){let f=new Uint8Array(r[c]),m=new Uint32Array(f.buffer),x=0,b=0,g=n,v=i,w=+!!a;if(0!=c){let y=s||a||1==c||0!=o[c-2].dispose?1:2,A=0,j=1e9;for(let e=0;e<y;e++){var d,u=new Uint8Array(r[c-1-e]);let a=new Uint32Array(r[c-1-e]),s=n,o=i,f=-1,p=-1;for(let e=0;e<i;e++)for(let r=0;r<n;r++)m[h=e*n+r]!=a[h]&&(r<s&&(s=r),r>f&&(f=r),e<o&&(o=e),e>p&&(p=e));-1==f&&(s=o=f=p=0),l&&(1==(1&s)&&s--,1==(1&o)&&o--);let w=(f-s+1)*(p-o+1);w<j&&(j=w,A=e,x=s,b=o,g=f-s+1,v=p-o+1)}u=new Uint8Array(r[c-1-A]),1==A&&(o[c-1].dispose=2),e(u,n,i,d=new Uint8Array(g*v*4),g,v,-x,-b,0),1==(w=+!!e(f,n,i,d,g,v,-x,-b,3))?p(f,n,i,d,{x:x,y:b,width:g,height:v}):e(f,n,i,d,g,v,-x,-b,0)}else d=f.slice(0);o.push({rect:{x:x,y:b,width:g,height:v},img:d,blend:w,dispose:0})}if(a)for(c=0;c<o.length;c++){if(1==(f=o[c]).blend)continue;let e=f.rect,a=o[c-1].rect,s=Math.min(e.x,a.x),d=Math.min(e.y,a.y),u={x:s,y:d,width:Math.max(e.x+e.width,a.x+a.width)-s,height:Math.max(e.y+e.height,a.y+a.height)-d};o[c-1].dispose=1,c-1!=0&&m(r,n,i,o,c-1,u,l),m(r,n,i,o,c,u,l)}if(1!=r.length)for(var h=0;h<o.length;h++)(f=o[h]).rect.width,f.rect.height;return o}(r,n,i,s,f,c),U={},F=[],C=[];if(0!=a){let e=[];for(A=0;A<N.length;A++)e.push(N[A].img.buffer);let r=x(function(e){let r=0;for(var n=0;n<e.length;n++)r+=e[n].byteLength;let i=new Uint8Array(r),a=0;for(n=0;n<e.length;n++){let r=new Uint8Array(e[n]),l=r.length;for(let e=0;e<l;e+=4){let n=r[e],l=r[e+1],s=r[e+2],o=r[e+3];0==o&&(n=l=s=0),i[a+e]=n,i[a+e+1]=l,i[a+e+2]=s,i[a+e+3]=o}a+=l}return i.buffer}(e),a);for(A=0;A<r.plte.length;A++)F.push(r.plte[A].est.rgba);let n=0;for(A=0;A<N.length;A++){let e=(S=N[A]).img.length;var k=new Uint8Array(r.inds.buffer,n>>2,e>>2);C.push(k);let i=new Uint8Array(r.abuf,n,e);h&&o(S.img,S.rect.width,S.rect.height,F,i,k),S.img.set(i),n+=e}}else for(w=0;w<N.length;w++){var S=N[w];let e=new Uint32Array(S.img.buffer);var E=S.rect.width;for(k=new Uint8Array(y=e.length),C.push(k),A=0;A<y;A++){let r=e[A];if(0!=A&&r==e[A-1])k[A]=k[A-1];else if(A>E&&r==e[A-E])k[A]=k[A-E];else{let e=U[r];if(null==e&&(U[r]=e=F.length,F.push(r),F.length>=300))break;k[A]=e}}}let _=F.length;for(_<=256&&0==u&&(g=Math.max(g=_<=2?1:_<=4?2:_<=16?4:8,d)),w=0;w<N.length;w++){(S=N[w]).rect.x,S.rect.y,E=S.rect.width;let e=S.rect.height,r=S.img;new Uint32Array(r.buffer);let n=4*E,i=4;if(_<=256&&0==u){var M=new Uint8Array((n=Math.ceil(g*E/8))*e);let a=C[w];for(let r=0;r<e;r++){A=r*n;let e=r*E;if(8==g)for(var I=0;I<E;I++)M[A+I]=a[e+I];else if(4==g)for(I=0;I<E;I++)M[A+(I>>1)]|=a[e+I]<<4-4*(1&I);else if(2==g)for(I=0;I<E;I++)M[A+(I>>2)]|=a[e+I]<<6-2*(3&I);else if(1==g)for(I=0;I<E;I++)M[A+(I>>3)]|=a[e+I]<<7-(7&I)}r=M,b=3,i=1}else if(0==j&&1==N.length){M=new Uint8Array(E*e*3);let a=E*e;for(A=0;A<a;A++){let e=3*A,n=4*A;M[e]=r[n],M[e+1]=r[n+1],M[e+2]=r[n+2]}r=M,b=2,i=3,n=3*E}S.img=r,S.bpl=n,S.bpp=i}return{ctype:b,depth:g,plte:F,frames:N}}function m(r,n,i,a,l,s,o){let f=Uint8Array,c=Uint32Array,d=new f(r[l-1]),u=new c(r[l-1]),h=l+1<r.length?new f(r[l+1]):null,m=new f(r[l]),x=new c(m.buffer),b=n,g=i,v=-1,w=-1;for(let e=0;e<s.height;e++)for(let r=0;r<s.width;r++){let i=s.x+r,o=s.y+e,f=o*n+i,c=x[f];0==c||0==a[l-1].dispose&&u[f]==c&&(null==h||0!=h[4*f+3])||(i<b&&(b=i),i>v&&(v=i),o<g&&(g=o),o>w&&(w=o))}-1==v&&(b=g=v=w=0),o&&(1==(1&b)&&b--,1==(1&g)&&g--),s={x:b,y:g,width:v-b+1,height:w-g+1};let y=a[l];y.rect=s,y.blend=1,y.img=new Uint8Array(s.width*s.height*4),0==a[l-1].dispose?(e(d,n,i,y.img,s.width,s.height,-s.x,-s.y,0),p(m,n,i,y.img,s)):e(m,n,i,y.img,s.width,s.height,-s.x,-s.y,0)}function p(r,n,i,a,l){e(r,n,i,a,l.width,l.height,-l.x,-l.y,2)}function x(e,r){let n,i=new Uint8Array(e),a=i.slice(0),l=new Uint32Array(a.buffer),s=b(a,r),o=s[0],f=s[1],c=i.length,d=new Uint8Array(c>>2);if(i.length<2e7)for(var u=0;u<c;u+=4)n=g(o,h=i[u]*(1/255),m=i[u+1]*(1/255),p=i[u+2]*(1/255),x=i[u+3]*(1/255)),d[u>>2]=n.ind,l[u>>2]=n.est.rgba;else for(u=0;u<c;u+=4){var h=i[u]*(1/255),m=i[u+1]*(1/255),p=i[u+2]*(1/255),x=i[u+3]*(1/255);for(n=o;n.left;)n=0>=v(n.est,h,m,p,x)?n.left:n.right;d[u>>2]=n.ind,l[u>>2]=n.est.rgba}return{abuf:a.buffer,inds:d,plte:f}}function b(e,r,n){null==n&&(n=1e-4);let i=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=y(e,a.i0,a.i1),a.est=A(a.bst);let l=[a];for(;l.length<r;){let r=0,a=0;for(var s=0;s<l.length;s++)l[s].est.L>r&&(r=l[s].est.L,a=s);if(r<n)break;let o=l[a],f=function(e,r,n,i,a,l){for(i-=4;n<i;){for(;w(e,n,a)<=l;)n+=4;for(;w(e,i,a)>l;)i-=4;if(n>=i)break;let s=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=s,n+=4,i-=4}for(;w(e,n,a)>l;)n-=4;return n+4}(e,i,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=f||o.i1<=f){o.est.L=0;continue}let c={i0:o.i0,i1:f,bst:null,est:null,tdst:0,left:null,right:null};c.bst=y(e,c.i0,c.i1),c.est=A(c.bst);let d={i0:f,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(s=0,d.bst={R:[],m:[],N:o.bst.N-c.bst.N};s<16;s++)d.bst.R[s]=o.bst.R[s]-c.bst.R[s];for(s=0;s<4;s++)d.bst.m[s]=o.bst.m[s]-c.bst.m[s];d.est=A(d.bst),o.left=c,o.right=d,l[a]=c,l.push(d)}for(l.sort((e,r)=>r.bst.N-e.bst.N),s=0;s<l.length;s++)l[s].ind=s;return[a,l]}function g(e,r,n,i,a){if(null==e.left){var l;let s,o,f,c;return l=e.est.q,s=r-l[0],o=n-l[1],f=i-l[2],e.tdst=s*s+o*o+f*f+(c=a-l[3])*c,e}let s=v(e.est,r,n,i,a),o=e.left,f=e.right;s>0&&(o=e.right,f=e.left);let c=g(o,r,n,i,a);if(c.tdst<=s*s)return c;let d=g(f,r,n,i,a);return d.tdst<c.tdst?d:c}function v(e,r,n,i,a){let{e:l}=e;return l[0]*r+l[1]*n+l[2]*i+l[3]*a-e.eMq}function w(e,r,n){return e[r]*n[0]+e[r+1]*n[1]+e[r+2]*n[2]+e[r+3]*n[3]}function y(e,r,n){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0];for(let l=r;l<n;l+=4){let r=e[l]*(1/255),n=e[l+1]*(1/255),s=e[l+2]*(1/255),o=e[l+3]*(1/255);a[0]+=r,a[1]+=n,a[2]+=s,a[3]+=o,i[0]+=r*r,i[1]+=r*n,i[2]+=r*s,i[3]+=r*o,i[5]+=n*n,i[6]+=n*s,i[7]+=n*o,i[10]+=s*s,i[11]+=s*o,i[15]+=o*o}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:a,N:n-r>>2}}function A(e){let{R:r}=e,{m:n}=e,{N:i}=e,a=n[0],l=n[1],s=n[2],o=n[3],f=0==i?0:1/i,c=[r[0]-a*a*f,r[1]-a*l*f,r[2]-a*s*f,r[3]-a*o*f,r[4]-l*a*f,r[5]-l*l*f,r[6]-l*s*f,r[7]-l*o*f,r[8]-s*a*f,r[9]-s*l*f,r[10]-s*s*f,r[11]-s*o*f,r[12]-o*a*f,r[13]-o*l*f,r[14]-o*s*f,r[15]-o*o*f],d=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,h=0;if(0!=i)for(let e=0;e<16&&(d=j.multVec(c,d),h=Math.sqrt(j.dot(d,d)),d=j.sml(1/h,d),!(0!=e&&1e-9>Math.abs(h-u)));e++)u=h;let m=[a*f,l*f,s*f,o*f];return{Cov:c,q:m,e:d,L:u,eMq255:j.dot(j.sml(255,m),d),eMq:j.dot(d,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|(0|Math.round(255*m[0])))>>>0}}var j={multVec:(e,r)=>[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]],dot:(e,r)=>e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],sml:(e,r)=>[e*r[0],e*r[1],e*r[2],e*r[3]]};d.encode=function(e,r,n,i,a,l,s){null==i&&(i=0),null==s&&(s=!1);let o=h(e,r,n,i,[!1,!1,!1,0,s,!1]);return u(o,-1),f(o,r,n,a,l)},d.encodeLL=function(e,r,n,i,a,l,s,o){let c={ctype:0+2*(1!=i)+4*(0!=a),depth:l,frames:[]},d=(i+a)*l,h=d*r;for(let i=0;i<e.length;i++)c.frames.push({rect:{x:0,y:0,width:r,height:n},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(h/8)});return u(c,0,!0),f(c,r,n,s,o)},d.encode.compress=h,d.encode.dither=o,d.quantize=x,d.quantize.getKDtree=b,d.quantize.getNearest=g}();let u={toArrayBuffer(e,r){let n=e.width,i=e.height,a=n<<2,l=new Uint32Array(e.getContext("2d").getImageData(0,0,n,i).data.buffer),s=(32*n+31)/32<<2,o=s*i,f=122+o,c=new ArrayBuffer(f),d=new DataView(c),h,m,p,x,b=1048576,g=0,v=0,w=0;function y(e){d.setUint16(v,e,!0),v+=2}function A(e){d.setUint32(v,e,!0),v+=4}y(19778),A(f),v+=4,A(122),A(108),A(n),A(-i>>>0),y(1),y(32),A(3),A(o),A(2835),A(2835),v+=8,A(0xff0000),A(65280),A(255),A(0xff000000),A(0x57696e20),function e(){for(;g<i&&b>0;){for(x=122+g*s,h=0;h<a;)b--,p=(m=l[w++])>>>24,d.setUint32(x+h,m<<8|p),h+=4;g++}w<l.length?(b=1048576,setTimeout(e,u._dly)):r(c)}()},toBlob(e,r){this.toArrayBuffer(e,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9};var h={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},m={[h.CHROME]:16384,[h.FIREFOX]:11180,[h.DESKTOP_SAFARI]:16384,[h.IE]:8192,[h.IOS]:4096,[h.ETC]:8192};let p="u">typeof window,x="u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,b=p&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),g=(p||x)&&(b&&b.getOriginalSymbol(window,"File")||"u">typeof File&&File),v=(p||x)&&(b&&b.getOriginalSymbol(window,"FileReader")||"u">typeof FileReader&&FileReader);function w(e,r,n=Date.now()){return new Promise(i=>{let a=e.split(","),l=a[0].match(/:(.*?);/)[1],s=globalThis.atob(a[1]),o=s.length,f=new Uint8Array(o);for(;o--;)f[o]=s.charCodeAt(o);let c=new Blob([f],{type:l});c.name=r,c.lastModified=n,i(c)})}function y(e){return new Promise((r,n)=>{let i=new v;i.onload=()=>r(i.result),i.onerror=e=>n(e),i.readAsDataURL(e)})}function A(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.onerror=e=>n(e),i.src=e})}function j(){if(void 0!==j.cachedResult)return j.cachedResult;let e=h.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?e=h.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?e=h.IOS:/Safari/i.test(r)?e=h.DESKTOP_SAFARI:/Firefox/i.test(r)?e=h.FIREFOX:(/MSIE/i.test(r)||!0==!!document.documentMode)&&(e=h.IE),j.cachedResult=e,j.cachedResult}function N(e,r){let n=m[j()],i=e,a=r,l=i*a,s=i>a?a/i:i/a;for(;l>n*n;){let e=(n+i)/2,r=(n+a)/2;e<r?(a=r,i=r*s):(a=e*s,i=e),l=i*a}return{width:i,height:a}}function U(e,r){let n,i;try{if(i=(n=new OffscreenCanvas(e,r)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=r,[n,i]}function F(e,r){let{width:n,height:i}=N(e.width,e.height),[a,l]=U(n,i);return r&&/jpe?g/.test(r)&&(l.fillStyle="white",l.fillRect(0,0,a.width,a.height)),l.drawImage(e,0,0,a.width,a.height),a}function C(){return void 0!==C.cachedResult||(C.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"u">typeof document&&"ontouchend"in document),C.cachedResult}function k(e,r={}){return new Promise(function(n,i){let a,l;var s=function(){try{return l=F(a,r.fileType||e.type),n([a,l])}catch(e){return i(e)}},o=function(r){try{var n=function(e){try{throw e}catch(e){return i(e)}};try{let r;return y(e).then(function(e){try{return r=e,A(r).then(function(e){try{return a=e,function(){try{return s()}catch(e){return i(e)}}()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){n(e)}}catch(e){return i(e)}};try{if(C()||[h.DESKTOP_SAFARI,h.MOBILE_SAFARI].includes(j()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return a=e,s()}catch(e){return o()}},o)}catch(e){o()}})}function S(e,r,n,i,a=1){return new Promise(function(l,s){let o;if("image/png"===r){let l,s;return l=e.getContext("2d"),{data:s}=l.getImageData(0,0,e.width,e.height),(o=new Blob([d.encode([s.buffer],e.width,e.height,4096*a)],{type:r})).name=n,o.lastModified=i,h.call(this)}if("image/bmp"===r)return new Promise(r=>u.toBlob(e,r)).then((function(e){try{return(o=e).name=n,o.lastModified=i,c.call(this)}catch(e){return s(e)}}).bind(this),s);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:r,quality:a}).then((function(e){try{return(o=e).name=n,o.lastModified=i,f.call(this)}catch(e){return s(e)}}).bind(this),s);return w(e.toDataURL(r,a),n,i).then((function(e){try{return o=e,f.call(this)}catch(e){return s(e)}}).bind(this),s);function f(){return c.call(this)}function c(){return h.call(this)}function h(){return l(o)}})}function E(e){e.width=0,e.height=0}function _(){return new Promise(function(e,r){let n,i,a,l;return void 0!==_.cachedResult?e(_.cachedResult):w("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,k(n).then(function(s){try{return i=s[1],S(i,n.type,n.name,n.lastModified).then(function(n){try{return a=n,E(i),k(a).then(function(n){try{return l=n[0],_.cachedResult=1===l.width&&2===l.height,e(_.cachedResult)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)})}function M(e){return new Promise((r,n)=>{let i=new v;i.onload=e=>{let n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return r(-2);let i=n.byteLength,a=2;for(;a<i&&!(8>=n.getUint16(a+2,!1));){let e=n.getUint16(a,!1);if(a+=2,65505==e){if(0x45786966!=n.getUint32(a+=2,!1))return r(-1);let e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);let i=n.getUint16(a,e);a+=2;for(let l=0;l<i;l++)if(274==n.getUint16(a+12*l,e))return r(n.getUint16(a+12*l+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return r(-1)},i.onerror=e=>n(e),i.readAsArrayBuffer(e)})}function I(e,r){let{width:n}=e,{height:i}=e,{maxWidthOrHeight:a}=r,l,s=e;return isFinite(a)&&(n>a||i>a)&&([s,l]=U(n,i),n>i?(s.width=a,s.height=i/n*a):(s.width=n/i*a,s.height=a),l.drawImage(e,0,0,s.width,s.height),E(e)),s}function B(e,r){let{width:n}=e,{height:i}=e,[a,l]=U(n,i);switch(r>4&&r<9?(a.width=i,a.height=n):(a.width=n,a.height=i),r){case 2:l.transform(-1,0,0,1,n,0);break;case 3:l.transform(-1,0,0,-1,n,i);break;case 4:l.transform(1,0,0,-1,0,i);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,i,0);break;case 7:l.transform(0,-1,-1,0,i,n);break;case 8:l.transform(0,-1,1,0,0,n)}return l.drawImage(e,0,0,n,i),E(e),a}function T(e,r,n=0){return new Promise(function(i,a){let l,s,o,f,c,d,u,h,m,p,x,b,g,v,w,y,A,j,N,F;function C(e=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;l+=e,r.onProgress(Math.min(l,100))}function T(e){if(r.signal&&r.signal.aborted)throw r.signal.reason;l=Math.min(Math.max(e,l),100),r.onProgress(l)}return l=n,s=r.maxIteration||10,o=1024*r.maxSizeMB*1024,C(),k(e,r).then((function(n){try{return[,f]=n,C(),c=I(f,r),C(),new Promise(function(n,i){var a;if(!(a=r.exifOrientation))return M(e).then((function(e){try{return a=e,l.call(this)}catch(e){return i(e)}}).bind(this),i);function l(){return n(a)}return l.call(this)}).then((function(n){try{return d=n,C(),_().then((function(n){try{return u=n?c:B(c,d),C(),h=r.initialQuality||1,m=r.fileType||e.type,S(u,m,e.name,e.lastModified,h).then((function(n){try{var l;if(p=n,C(),x=p.size>o,b=p.size>e.size,!x&&!b)return T(100),i(p);function d(){if(s--&&(w>o||w>g)){let r,n;return r=F?.95*N.width:N.width,n=F?.95*N.height:N.height,[A,j]=U(r,n),j.drawImage(N,0,0,r,n),h*="image/png"===m?.85:.95,S(A,m,e.name,e.lastModified,h).then(function(e){try{return y=e,E(N),N=A,w=y.size,T(Math.min(99,Math.floor((v-w)/(v-o)*100))),d}catch(e){return a(e)}},a)}return[1]}return g=e.size,w=v=p.size,N=u,F=!r.alwaysKeepResolution&&x,(l=(function(e){for(;e;){if(e.then)return void e.then(l,a);try{if(e.pop){if(e.length)return e.pop()?k.call(this):e;e=d}else e=e.call(this)}catch(e){return a(e)}}}).bind(this))(d);function k(){return E(N),E(A),E(c),E(u),E(f),T(100),i(y)}}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)})}function R(e,i){return new Promise(function(a,l){let s,o,f,c,d,u;if(s={...i},f=0,{onProgress:c}=s,s.maxSizeMB=s.maxSizeMB||1/0,d="boolean"!=typeof s.useWebWorker||s.useWebWorker,delete s.useWebWorker,s.onProgress=e=>{f=e,"function"==typeof c&&c(f)},!(e instanceof Blob||e instanceof g))return l(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return l(Error("The file given is not an image"));if(u="u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!d||"function"!=typeof Worker||u)return T(e,s).then((function(e){try{return o=e,p.call(this)}catch(e){return l(e)}}).bind(this),l);var h=(function(){try{return p.call(this)}catch(e){return l(e)}}).bind(this),m=function(r){try{return T(e,s).then(function(e){try{return o=e,h()}catch(e){return l(e)}},l)}catch(e){return l(e)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((n,i)=>{var a;let l;r||(l=[],"function"==typeof(a="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n")?l.push(`(${a})()`):l.push(a),r=URL.createObjectURL(new Blob(l)));let o=new Worker(r);o.addEventListener("message",function(e){if(s.signal&&s.signal.aborted)o.terminate();else if(void 0===e.data.progress){if(e.data.error)return i(Error(e.data.error)),void o.terminate();n(e.data.file),o.terminate()}else s.onProgress(e.data.progress)}),o.addEventListener("error",i),s.signal&&s.signal.addEventListener("abort",()=>{i(s.signal.reason),o.terminate()}),o.postMessage({file:e,imageCompressionLibUrl:s.libURL,options:{...s,onProgress:void 0,signal:void 0}})}).then(function(e){try{return o=e,h()}catch(e){return m()}},m)}catch(e){m()}function p(){try{o.name=e.name,o.lastModified=e.lastModified}catch(e){}try{s.preserveExif&&"image/jpeg"===e.type&&(!s.fileType||s.fileType&&s.fileType===e.type)&&(o=n(e,o))}catch(e){}return a(o)}})}R.getDataUrlFromFile=y,R.getFilefromDataUrl=w,R.loadImage=A,R.drawImageInCanvas=F,R.drawFileInCanvas=k,R.canvasToFile=S,R.getExifOrientation=M,R.handleMaxWidthOrHeight=I,R.followExifOrientation=B,R.cleanupCanvasMemory=E,R.isAutoOrientationInBrowser=_,R.approximateBelowMaximumCanvasSizeOfBrowser=N,R.copyExifWithoutOrientation=n,R.getBrowserName=j,R.version="2.0.2",e.s(["default",()=>R])},464,e=>{"use strict";var r=e.i(14294),n=e.i(30878),i=e.i(14392),a=e.i(99913),l=e.i(7387),s=e.i(73434),o=e.i(90008),f=e.i(16248),c=e.i(72379),d=e.i(85384),u=e.i(20241),h=e.i(3055);function m({onPostCreated:e}){let[m,p]=(0,n.useState)(!1),[x,b]=(0,n.useState)(""),[g,v]=(0,n.useState)(null),[w,y]=(0,n.useState)(null),[A,j]=(0,n.useState)("public"),[N,U]=(0,n.useState)(""),[F,C]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),[E,_]=(0,n.useState)(!1),[M,I]=(0,n.useState)(null),B=(0,n.useRef)(null);(0,n.useEffect)(()=>{I(JSON.parse(localStorage.getItem("user")||"null"));let e=()=>{I(JSON.parse(localStorage.getItem("user")||"null"))};return window.addEventListener("userUpdated",e),()=>window.removeEventListener("userUpdated",e)},[]),(0,n.useEffect)(()=>{let e=localStorage.getItem("createPostDraft");if(e){let r=JSON.parse(e);b(r.content||""),j(r.privacy||"public"),r.imagePreview&&y(r.imagePreview),_(!0)}},[]),(0,n.useEffect)(()=>{if(m){let e={content:x,privacy:A,imagePreview:w,timestamp:Date.now()};localStorage.setItem("createPostDraft",JSON.stringify(e)),_(x.trim().length>0||null!==w)}},[x,A,w,m]);let[T,R]=(0,n.useState)([]),[P,O]=(0,n.useState)(!1),[L,Q]=(0,n.useState)(""),[z,D]=(0,n.useState)(0),H=(0,n.useCallback)(async e=>{if(!e.trim())return void R([]);try{let r=await d.default.get(`/profile/search?q=${encodeURIComponent(e)}&limit=5`);R(r.data.users||[])}catch(e){console.error("Failed to search users:",e),R([])}},[]);(0,n.useEffect)(()=>{m&&(()=>{let e=B.current;if(!e)return;e.style.height="auto";let r=Math.min(Math.max(e.scrollHeight,120),480);e.style.height=`${r}px`,e.style.overflowY=r>=480?"auto":"hidden"})()},[m,x]);let $=[{value:"public",label:"Public",icon:s.Globe,description:"Anyone can see"},{value:"friends",label:"Friends",icon:o.Users,description:"Only friends"},{value:"private",label:"Private",icon:f.Lock,description:"Only me"}],W=$.find(e=>e.value===A),q=async e=>{let r=e.target.files?.[0];if(r)try{let e=await (0,u.default)(r,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg"});console.log(`Original size: ${(r.size/1024/1024).toFixed(2)} MB`),console.log(`Compressed size: ${(e.size/1024/1024).toFixed(2)} MB`),v(e),y(URL.createObjectURL(e))}catch(e){console.error("Error compressing image:",e),v(r),y(URL.createObjectURL(r))}},X=async()=>{if(!x.trim()&&!g)return;S(!0);let r=new FormData;x.trim()&&r.append("content",x),g&&r.append("image",g),N&&r.append("tags",N),r.append("privacy",A);try{let n=await d.default.post("/posts",r),i=n?.data;b(""),v(null),y(null),j("public"),U(""),p(!1),localStorage.removeItem("createPostDraft"),_(!1),e&&e(i)}catch(e){console.error("Failed to post:",e)}finally{S(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onClick:()=>p(!0),className:"relative bg-gradient-to-br from-[#1e293b]/60 to-[#0f172a]/40 backdrop-blur-xl border border-[#334155]/50 rounded-3xl p-5 mb-6 overflow-visible hover:border-[#475569]/70 transition-all duration-300 cursor-pointer",children:(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,r.jsx)("div",{className:"w-11 h-11 rounded-full border-2 border-[#1e293b] flex-shrink-0 ring-2 ring-blue-500/10 overflow-hidden",children:M?.avatarUrl?(0,r.jsx)("img",{src:(0,h.fixUrl)(M.avatarUrl),alt:"",className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-tr from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:(M?.displayName||M?.username)?.[0]?.toUpperCase()||"U"})}),(0,r.jsx)("div",{className:"flex-1 bg-[#0f172a]/50 border border-[#334155]/50 rounded-full px-4 py-3 text-[#64748b] text-[15px] hover:border-[#475569]/70 transition-colors",children:"What's on your mind?"})]})}),m&&(0,r.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm sm:p-4 p-0",children:(0,r.jsxs)("div",{className:"bg-[#1e293b] sm:border border-none border-[#334155]/60 sm:rounded-3xl rounded-none w-full max-w-lg h-full sm:h-auto sm:max-h-[90vh] flex flex-col overflow-hidden shadow-2xl relative",children:[(0,r.jsxs)("div",{className:"sm:hidden sticky top-0 z-[50] bg-[#1e293b] px-4 h-[44px] flex-shrink-0 flex items-center justify-between border-b border-[#334155]/20",children:[(0,r.jsx)("h2",{className:"text-[15px] font-bold text-white tracking-wide",children:"Create Post"}),(0,r.jsx)("button",{onClick:()=>p(!1),className:"w-8 h-8 flex items-center justify-center bg-[#334155]/50 hover:bg-[#475569]/70 rounded-full text-[#94a3b8] hover:text-white transition-all duration-200",children:(0,r.jsx)(l.X,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"hidden sm:flex items-center justify-between px-6 py-3 border-b border-[#334155]/50 bg-[#1e293b]",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-white tracking-tight",children:"Create Post"}),(0,r.jsx)("button",{onClick:()=>p(!1),className:"w-9 h-9 flex items-center justify-center hover:bg-[#334155] rounded-full text-[#94a3b8] hover:text-white transition-all duration-200",children:(0,r.jsx)(l.X,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] bg-[#1e293b]",children:[(0,r.jsx)("div",{className:"sm:relative sticky top-0 z-[40] bg-[#1e293b] px-4 sm:px-6 sm:py-2.5 pt-8 pb-2.5 mt-0 flex items-center justify-between sm:border-none border-b border-[#334155]/10",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full border-2 border-[#334155] flex-shrink-0 ring-2 ring-blue-500/10 overflow-hidden",children:M?.avatarUrl?(0,r.jsx)("img",{src:(0,h.fixUrl)(M.avatarUrl),alt:"",className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-tr from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-xs",children:(M?.displayName||M?.username)?.[0]?.toUpperCase()||"U"})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),C(!F)},className:"flex items-center gap-2 px-3 py-1.5 bg-[#334155]/30 hover:bg-[#334155]/50 rounded-xl transition-colors group sm:w-auto w-auto",children:[(0,r.jsx)(W.icon,{className:"sm:w-4 sm:h-4 w-3.5 h-3.5 text-blue-400 flex-shrink-0"}),(0,r.jsx)("span",{className:"sm:text-sm text-[13px] font-semibold text-[#e2e8f0]",children:W.label}),(0,r.jsx)(c.ChevronDown,{className:"sm:w-4 sm:h-4 w-3.5 h-3.5 text-[#64748b] ml-0.5"})]}),F&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute top-full left-0 mt-1 w-56 bg-[#1e293b] border border-[#334155] rounded-xl shadow-2xl overflow-hidden z-20",children:$.map(e=>(0,r.jsxs)("button",{onClick:()=>{j(e.value),C(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 hover:bg-[#334155]/50 transition-colors text-left",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-white",children:e.label}),(0,r.jsx)("p",{className:"text-xs text-[#64748b]",children:e.description})]})]},e.value))}),(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>C(!1)})]})]})]})}),(0,r.jsx)("div",{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:(0,r.jsx)("textarea",{ref:B,value:x,onChange:e=>{let r=e.target.value,n=e.target.selectionStart;b(r),D(n);let i=r.slice(0,n),a=i.lastIndexOf("@");if(-1!==a){let e=i.slice(a+1);(0===a||/\s/.test(i[a-1]))&&!/\s/.test(e)?(Q(e),O(!0),H(e)):O(!1)}else O(!1)},placeholder:"What's on your mind?",className:"w-full bg-transparent border-none outline-none focus:ring-0 text-white placeholder-[#64748b] resize-none py-2 sm:text-[18px] text-[16px] leading-relaxed overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",style:{minHeight:120,maxHeight:480},rows:1,autoFocus:!0,maxLength:65e3})}),P&&T.length>0&&(0,r.jsxs)("div",{className:"relative mt-1",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full bg-[#1e293b] border border-[#334155] rounded-xl shadow-2xl overflow-hidden z-20 max-h-48 overflow-y-auto",children:T.map(e=>(0,r.jsxs)("button",{onClick:()=>{let r,n;return r=x.slice(0,z-L.length-1),n=x.slice(z),void(b(`${r}@${e.username} ${n}`),O(!1),Q(""),B.current?.focus())},className:"w-full flex items-center gap-3 px-4 py-2.5 hover:bg-[#334155]/50 transition-colors text-left",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-600 via-purple-600 to-pink-600 flex-shrink-0"}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:e.displayName||e.username})})]},e.id))}),(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>O(!1)})]}),w&&(0,r.jsxs)("div",{className:"relative mt-3 rounded-xl overflow-hidden border border-[#334155]/50 group",children:[(0,r.jsx)("img",{src:w,alt:"Preview",className:"w-full h-auto max-h-96 object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),(0,r.jsx)("button",{onClick:()=>{v(null),y(null)},className:"absolute top-2 right-2 p-1.5 bg-black/70 backdrop-blur-sm text-white rounded-full hover:bg-black/90 transition-all transform hover:scale-110",children:(0,r.jsx)(l.X,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{className:"p-4 sm:p-5 border-t border-[#334155]/50 bg-[#1e293b] space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2.5 px-4 py-2 bg-[#334155]/30 hover:bg-[#334155]/50 rounded-xl cursor-pointer transition-all group border border-[#334155]/20",children:[(0,r.jsx)(i.Image,{className:"w-4 h-4 text-green-400 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-sm font-semibold text-[#e2e8f0]",children:"Add Photo"}),(0,r.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:q})]}),g&&(0,r.jsx)("span",{className:"text-[12px] text-blue-400 font-medium",children:"Image selected"})]}),(0,r.jsx)("button",{onClick:X,disabled:!x.trim()&&!g||k,className:"w-full h-[48px] bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 disabled:opacity-50 disabled:grayscale text-white font-bold rounded-xl transition-all shadow-lg active:scale-[0.98] flex items-center justify-center gap-2",children:k?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Send,{className:"w-4 h-4 mr-1"}),(0,r.jsx)("span",{children:"Post to Newsfeed"})]})})]})]})})]})}e.s(["default",()=>m])},53e3,24366,15377,e=>{"use strict";var r=e.i(14294),n=e.i(15772),i=e.i(95811),a=e.i(69793),l=e.i(4499),s=e.i(33500),o=e.i(98664),f=e.i(4781),c=e.i(74462),d=e.i(89369),u=e.i(14749),h=e.i(82261),m=e.i(1330),p=e.i(39621),x=e.i(36218),b=e.i(94654),g=e.i(4561),v=e.i(30878),w=e.i(85384),y=e.i(7387),A=e.i(60530),j=e.i(59983),N=e.i(61957);function U({isOpen:e,onClose:n,postId:i,userId:a,targetName:l}){let[s,o]=(0,v.useState)(""),[f,c]=(0,v.useState)(""),[d,u]=(0,v.useState)(!1),[h,m]=(0,v.useState)(!1);if(!e)return null;let p=async()=>{if(s){u(!0);try{await w.default.post("/reports",{reason:s,details:f,postId:i,targetUserId:a}),m(!0),setTimeout(()=>{n(),m(!1),o(""),c("")},2e3)}catch(e){console.error("Failed to submit report:",e)}finally{u(!1)}}};return h?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:(0,r.jsxs)("div",{className:"bg-[#1e293b] border border-[#334155] rounded-3xl p-8 max-w-sm w-full text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(j.ShieldCheck,{className:"w-8 h-8 text-green-500"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Report Submitted"}),(0,r.jsx)("p",{className:"text-[#94a3b8]",children:"Thank you for helping keep our community safe. We will review this report shortly."})]})}):(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:(0,r.jsxs)("div",{className:"bg-[#1e293b] border border-[#334155] rounded-3xl w-full max-w-md flex flex-col shadow-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[#334155]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-red-500/10 rounded-xl",children:(0,r.jsx)(A.AlertTriangle,{className:"w-6 h-6 text-red-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-white",children:"Report Content"}),(0,r.jsxs)("p",{className:"text-xs text-[#94a3b8]",children:["Reporting ",l]})]})]}),(0,r.jsx)("button",{onClick:n,className:"p-2 hover:bg-[#334155] rounded-full transition-colors text-[#94a3b8] hover:text-white",children:(0,r.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"text-sm font-bold text-[#94a3b8] uppercase tracking-wider",children:"Why are you reporting this?"}),(0,r.jsx)("div",{className:"space-y-2",children:["Inappropriate Content","Harassment / Hate Hate Speech","Spam / Scams","Misinformation","Violating Terms of Service","Other"].map(e=>(0,r.jsx)("button",{onClick:()=>o(e),className:`w-full text-left p-3 rounded-xl border transition-all ${s===e?"bg-blue-600 border-blue-500 text-white":"bg-[#0f172a] border-[#334155] text-[#cbd5e1] hover:border-[#475569]"}`,children:e},e))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-bold text-[#94a3b8] uppercase tracking-wider",children:"Additional Details (Optional)"}),(0,r.jsx)("textarea",{value:f,onChange:e=>c(e.target.value),placeholder:"Please provide any additional context...",className:"w-full bg-[#0f172a] border border-[#334155] rounded-xl p-3 text-white placeholder-[#64748b] focus:outline-none focus:border-blue-500 min-h-[100px] resize-none"})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-[#334155] flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:n,className:"px-5 py-2.5 rounded-xl font-semibold text-[#94a3b8] hover:text-white hover:bg-[#334155] transition-colors",children:"Cancel"}),(0,r.jsxs)("button",{onClick:p,disabled:!s||d,className:"px-5 py-2.5 rounded-xl bg-red-600 hover:bg-red-500 text-white font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d&&(0,r.jsx)(N.Loader2,{className:"w-4 h-4 animate-spin"}),"Submit Report"]})]})]})})}var F=e.i(24892),C=e.i(3055),k=e.i(59796);function S({post:e,isGuest:y=!1,onDelete:A,onUpdate:j,onEdit:N,onViewComments:S}){let[E,_]=(0,v.useState)(null),[M,I]=(0,v.useState)(e._count?.likes||0),[B,T]=(0,v.useState)(e._count?.comments||0);(0,v.useEffect)(()=>{I(e._count?.likes||0)},[e._count?.likes]),(0,v.useEffect)(()=>{T(e._count?.comments||0)},[e._count?.comments]);let[R,P]=(0,v.useState)(!1),[O,L]=(0,v.useState)(null),[Q,z]=(0,v.useState)(!1),[D,H]=(0,v.useState)(!1),[$,W]=(0,v.useState)(!1),[q,X]=(0,v.useState)(!1),[G,K]=(0,v.useState)(!1),V=(0,v.useRef)(null);(0,v.useEffect)(()=>{let e=e=>{Q&&V.current&&!V.current.contains(e.target)&&z(!1)};return Q&&document.addEventListener("mousedown",e),J(),()=>{document.removeEventListener("mousedown",e)}},[Q,e.id]);let{socket:Z}=(0,F.useSocket)();(0,v.useEffect)(()=>{if(!Z)return;Z.emit("join_post",e.id);let r=r=>{r.postId===e.id&&(T(e=>e+1),O||L(r))},n=({postId:r})=>{r===e.id&&(T(e=>Math.max(0,e-1)),J())};return Z.on("new_comment",r),Z.on("comment_deleted",n),()=>{Z.emit("leave_post",e.id),Z.off("new_comment",r),Z.off("comment_deleted",n)}},[Z,e.id]);let J=async()=>{try{let r=await w.default.get(`/posts/${e.id}/comments`);r.data.length>0&&L(r.data[0])}catch(e){console.error("Failed to fetch comments:",e)}},{openAuthModal:Y,user:ee}=(0,k.useAuth)(),et=ee?.id,er=async r=>{if(!et)return void Y("login");E===r?(_(null),I(e=>Math.max(0,e-1))):(_(r),E||I(e=>e+1)),P(!1);try{let n=await w.default.post(`/posts/${e.id}/like`,{type:r});n.data.liked?_(n.data.type):_(null)}catch(e){console.error("Failed to react:",e),_(E)}},en=async()=>{if(confirm("Are you sure you want to delete this post?")){W(!0);try{await w.default.delete(`/posts/${e.id}`),A&&A(e.id)}catch(e){console.error("Failed to delete post:",e),alert("Failed to delete post")}finally{W(!1)}}},ei=et===e.author.id;return(0,r.jsxs)(x.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`bg-gradient-to-br from-[#1e293b]/60 to-[#0f172a]/40 backdrop-blur-xl border border-[#334155]/50 rounded-2xl mb-4 hover:border-[#475569]/70 hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300 group relative ${Q?"z-[100]":"z-auto"}`,children:[(0,r.jsxs)("div",{className:"p-2 flex items-center justify-between",children:[(0,r.jsxs)(g.default,{href:`/profile/${e.author.username}`,prefetch:!1,className:"flex items-center gap-2.5 hover:opacity-90 transition-opacity",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 bg-cover bg-center ring-2 ring-blue-500/20 group-hover:ring-blue-500/40 transition-all duration-300",style:{backgroundImage:e.author.avatarUrl?`url(${(0,C.fixUrl)(e.author.avatarUrl)})`:void 0},children:!e.author.avatarUrl&&(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-sm",children:(e.author.displayName||e.author.username)?.[0]?.toUpperCase()})}),(0,r.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-[#1e293b]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-white font-bold text-[15px]",children:e.author.displayName||e.author.username}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-[11px] text-[#64748b] mt-0.5 font-medium",children:[(0,r.jsx)(c.Clock,{className:"w-3 h-3"}),(0,r.jsx)("p",{children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,r.jsx)("span",{className:"w-1 h-1 rounded-full bg-[#334155]"}),(0,r.jsx)("span",{className:"text-blue-500/80",children:"Public"})]})]})]}),(0,r.jsxs)("div",{className:"relative",ref:V,children:[(0,r.jsx)("button",{onClick:()=>z(!Q),className:`p-2 rounded-xl transition-all ${Q?"bg-[#334155] text-white":"text-[#64748b] hover:text-white hover:bg-[#334155]/50"}`,children:(0,r.jsx)(s.MoreHorizontal,{className:"w-5 h-5"})}),(0,r.jsx)(b.AnimatePresence,{children:Q&&(0,r.jsx)(x.motion.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-1 w-40 bg-[#1e293b]/98 backdrop-blur-2xl border border-[#334155]/70 rounded-xl shadow-2xl overflow-hidden z-[110]",children:(0,r.jsx)("div",{className:"py-0.5",children:ei?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>{z(!1),N&&N(e)},className:"w-full flex items-center gap-2 px-3 py-1.5 hover:bg-[#334155]/50 text-white transition-colors text-xs font-semibold group",children:[(0,r.jsx)("div",{className:"p-1.5 bg-blue-500/10 rounded-lg group-hover:bg-blue-500/20 transition-colors",children:(0,r.jsx)(o.Edit2,{className:"w-3.5 h-3.5 text-blue-400"})}),"Edit Post"]}),(0,r.jsxs)("button",{onClick:()=>{z(!1),en()},disabled:$,className:"w-full flex items-center gap-2 px-3 py-1.5 hover:bg-red-500/10 text-red-500 transition-colors text-xs font-semibold group disabled:opacity-50",children:[(0,r.jsx)("div",{className:"p-1.5 bg-red-500/10 rounded-lg group-hover:bg-red-500/20 transition-colors",children:$?(0,r.jsx)("div",{className:"w-3.5 h-3.5 border-2 border-red-500/30 border-t-red-500 rounded-full animate-spin"}):(0,r.jsx)(f.Trash2,{className:"w-3.5 h-3.5"})}),"Delete Post"]})]}):(0,r.jsxs)("button",{onClick:()=>{z(!1),H(!0)},className:"w-full flex items-center gap-2 px-3 py-1.5 hover:bg-yellow-500/10 text-yellow-500 transition-colors text-xs font-semibold group",children:[(0,r.jsx)("div",{className:"p-1.5 bg-yellow-500/10 rounded-lg group-hover:bg-yellow-500/20 transition-colors",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5",children:[(0,r.jsx)("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),(0,r.jsx)("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]})}),"Report Post"]})})})}),(0,r.jsx)(U,{isOpen:D,onClose:()=>H(!1),postId:e.id,targetName:"this post"})]})]}),e.content&&(0,r.jsxs)("div",{className:"px-3 pb-2",children:[(0,r.jsx)("p",{className:`text-[#e2e8f0] text-[15px] leading-relaxed whitespace-pre-wrap ${!q&&"line-clamp-6"}`,children:e.content.split(/(\#[a-zA-Z0-9_]+\b)/).map((e,n)=>e.startsWith("#")?(0,r.jsx)("span",{className:"text-blue-400 font-semibold hover:underline cursor-pointer transition-all",children:e},n):e)}),e.content.split("\n").length>3||e.content.length>150?(0,r.jsx)("button",{onClick:()=>X(!q),className:"text-blue-500 hover:text-blue-400 text-xs font-semibold mt-1 transition-colors",children:q?"See less":"See more"}):null]}),e.imageUrl&&(0,r.jsxs)("div",{className:"relative aspect-video w-full bg-[#0f172a] overflow-hidden border-y border-[#334155]/20",children:[(0,r.jsx)("img",{src:(0,C.fixUrl)(e.imageUrl),alt:"Post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,r.jsxs)("div",{className:"px-3 py-2 flex items-center justify-between border-t border-[#334155]/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative",onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),onTouchStart:()=>{let e=setTimeout(()=>P(!0),500);window._reactionTimer=e},onTouchEnd:()=>{window._reactionTimer&&clearTimeout(window._reactionTimer)},children:[(0,r.jsx)(b.AnimatePresence,{children:R&&(0,r.jsx)(n.default,{onSelect:er,onClose:()=>P(!1)})}),(0,r.jsxs)(x.motion.button,{whileTap:{scale:.9},onClick:()=>er(E||"like"),className:"flex items-center gap-1.5 group/like relative z-10",children:[(0,r.jsx)("div",{className:"p-1.5 rounded-full group-hover/like:bg-white/5 transition-colors",children:(e=>{switch(e){case"love":return(0,r.jsx)(i.Heart,{className:"w-5 h-5 text-red-500 fill-red-500"});case"haha":return(0,r.jsx)(u.Laugh,{className:"w-5 h-5 text-yellow-500"});case"wow":return(0,r.jsx)(p.Star,{className:"w-5 h-5 text-purple-500"});case"sad":return(0,r.jsx)(h.Frown,{className:"w-5 h-5 text-blue-400"});case"angry":return(0,r.jsx)(m.Angry,{className:"w-5 h-5 text-orange-500"});case"like":return(0,r.jsx)(d.ThumbsUp,{className:"w-5 h-5 text-blue-500 fill-blue-500"});default:return(0,r.jsx)(i.Heart,{className:"w-5 h-5 text-[#64748b]"})}})(E)}),(0,r.jsx)("span",{className:`text-xs font-bold transition-colors ${E?"text-blue-500":"text-[#64748b] group-hover/like:text-blue-500"}`,children:M})]})]}),(0,r.jsxs)(x.motion.button,{whileTap:{scale:.9},onClick:()=>S&&S(e),className:"flex items-center gap-1.5 group/comment",children:[(0,r.jsx)("div",{className:"p-1.5 rounded-full group-hover/comment:bg-blue-500/10 transition-colors",children:(0,r.jsx)(a.MessageCircle,{className:"w-4 h-4 text-[#64748b] group-hover/comment:text-blue-500 transition-colors"})}),(0,r.jsx)("span",{className:"text-xs font-bold text-[#64748b] group-hover/comment:text-blue-500 transition-colors",children:B})]})]}),(0,r.jsx)(x.motion.button,{whileTap:{scale:.9},className:"p-1.5 rounded-full hover:bg-white/5 transition-colors text-[#64748b] hover:text-white group/share",children:(0,r.jsx)(l.Share2,{className:"w-4 h-4"})})]}),O&&(0,r.jsxs)("div",{className:"border-t border-[#334155]/30 px-3 py-2.5 bg-[#0f172a]/20",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex-shrink-0 overflow-hidden ring-2 ring-blue-500/10",children:O.user?.avatarUrl?(0,r.jsx)("img",{src:(0,C.fixUrl)(O.user.avatarUrl),alt:O.user?.displayName||O.user?.username||"",className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-[10px] font-bold",children:(O.user?.displayName||O.user?.username)?.[0]?.toUpperCase()||"U"})})}),(0,r.jsx)("div",{className:"flex-1 flex flex-col items-start gap-1",children:(0,r.jsxs)("div",{className:"bg-[#1e293b]/40 backdrop-blur-sm rounded-2xl px-3 py-1.5 border border-[#334155]/20 hover:border-[#475569]/30 transition-colors w-fit max-w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-white",children:O.user?.displayName||O.user?.username||"User"}),(0,r.jsx)("span",{className:"text-[10px] text-[#64748b]",children:""}),(0,r.jsx)("span",{className:"text-[10px] text-[#64748b]",children:new Date(O.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("p",{className:`text-xs text-[#cbd5e1] leading-relaxed break-words ${!G&&"line-clamp-3"}`,children:O.content}),O.content&&O.content.length>150&&!G&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),K(!0)},className:"text-[10px] font-bold text-blue-400 hover:text-blue-300 transition-colors mt-0.5",children:"See More"})]})]})})]}),B>1&&(0,r.jsxs)("button",{onClick:()=>S&&S(e),className:"mt-2 text-xs text-[#64748b] hover:text-blue-500 transition-colors font-semibold flex items-center gap-1 group/viewall",children:[(0,r.jsxs)("span",{children:["View all ",B," comments"]}),(0,r.jsx)(a.MessageCircle,{className:"w-3 h-3 group-hover/viewall:translate-x-0.5 transition-transform"})]})]})]})}e.s(["default",()=>S],53e3);let E=(0,e.i(92511).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>E],24366);var _=e.i(64150),M=e.i(90008);function I(){let[e,n]=(0,v.useState)([]),[i,a]=(0,v.useState)(!0),[l,s]=(0,v.useState)([]);(0,v.useEffect)(()=>{let e=localStorage.getItem("dismissedSuggestions");e&&s(JSON.parse(e)),o()},[]);let o=async()=>{try{a(!0);let e=await w.default.get("/suggestions/friends?limit=5");0===e.data.length&&(e=await w.default.get("/suggestions/random?limit=5")),n(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Failed to fetch suggestions:",e)}finally{a(!1)}},f=async r=>{try{await w.default.post(`/friends/request/${r}`),n(e.filter(e=>e.id!==r))}catch(e){console.error("Failed to send friend request:",e)}},c=e.filter(e=>!l.includes(e.id));return i?(0,r.jsxs)("div",{className:"bg-[#1e293b]/50 backdrop-blur-xl border border-[#334155] rounded-2xl p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Suggested for you"}),(0,r.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"animate-pulse flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#334155]"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-[#334155] rounded w-24 mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-[#334155] rounded w-32"})]})]},e))})]}):0===c.length?null:(0,r.jsxs)("div",{className:"bg-[#1e293b]/50 backdrop-blur-xl border border-[#334155] rounded-2xl p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Suggested for you"}),(0,r.jsx)("div",{className:"space-y-3",children:c.map(i=>(0,r.jsxs)("div",{className:"flex items-start gap-3 group",children:[(0,r.jsx)(g.default,{href:`/profile/${i.username}`,children:i.avatarUrl?(0,r.jsx)("img",{src:(0,C.fixUrl)(i.avatarUrl),alt:i.displayName||i.username||"",className:"w-10 h-10 rounded-full object-cover cursor-pointer hover:opacity-80 transition-opacity"}):(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-600 to-purple-600 cursor-pointer hover:opacity-80 transition-opacity"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)(g.default,{href:`/profile/${i.username}`,children:(0,r.jsx)("p",{className:"text-white font-medium text-sm hover:underline cursor-pointer truncate",children:i.displayName||i.username})}),i.mutualFriendsCount>0?(0,r.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#64748b] mt-0.5",children:[(0,r.jsx)(M.Users,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:[i.mutualFriendsCount," mutual friend",i.mutualFriendsCount>1?"s":""]})]}):void 0!==i.friendsCount&&(0,r.jsxs)("p",{className:"text-xs text-[#64748b] mt-0.5",children:[i.friendsCount," friends"]}),i.mutualFriends&&i.mutualFriends.length>0&&(0,r.jsx)("div",{className:"flex items-center gap-1 mt-1",children:i.mutualFriends.slice(0,3).map(e=>(0,r.jsx)("div",{className:"relative group/avatar",children:e.avatarUrl?(0,r.jsx)("img",{src:(0,C.fixUrl)(e.avatarUrl),alt:e.displayName||e.username||"",className:"w-5 h-5 rounded-full border border-[#1e293b]",title:e.displayName||e.username}):(0,r.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-tr from-blue-600 to-purple-600 border border-[#1e293b]",title:e.displayName||e.username})},e.id))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("button",{onClick:()=>f(i.id),className:"p-1.5 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Add friend",children:(0,r.jsx)(_.UserPlus,{className:"w-4 h-4 text-blue-500"})}),(0,r.jsx)("button",{onClick:()=>{var r;let a;s(a=[...l,r=i.id]),localStorage.setItem("dismissedSuggestions",JSON.stringify(a)),n(e.filter(e=>e.id!==r))},className:"p-1.5 hover:bg-[#334155] rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Dismiss",children:(0,r.jsx)(y.X,{className:"w-4 h-4 text-[#64748b]"})})]})]},i.id))}),c.length>0&&(0,r.jsx)("button",{onClick:o,className:"w-full mt-3 text-sm text-blue-500 hover:text-blue-400 font-medium transition-colors",children:"See more suggestions"})]})}e.s(["default",()=>I],15377)}]);